import{b as F,e as fe,g as ae,v as D,t as he,q as ge,S as we,z as xe,_ as g,m as le,a as K,k as M,h as Ce,u as ye,D as _e,M as Te,p as Ie,H as ke,a3 as Se,d as Ee,Q as Me,F as Ae}from"./index.ac02f68f.js";import{r as Le}from"./Setting.4e1b5c78.js";import{e as Ne,u as Re}from"./vue.5bd64dc7.js";import{H as S,l as N,r as C,bm as e,j as a,cs as I,F as $,w as H,M as Fe,av as se,t as oe,J as De,W as ce,n as qe,k as je,G as ne,q as $e}from"./bundle.f4813fa2.js";import{u as ve}from"./erc20.e9c36ea3.js";import{g as X}from"./etherscan.83df9912.js";import{f as ie,B as pe,a as J,p as B,b as Oe}from"./ethers.043ad920.js";import{R as Pe}from"./index.160e8328.js";import{g as Ue,w as m}from"./share.51f4a725.js";import{S as L}from"./utils.f10e23c9.js";import{c as We}from"./wallet.4184d84f.js";import{C as ze}from"./index.ca6c5d70.js";import{s as Be}from"./chunk-CGVFGSHT.889ff96e.js";import{S as He,a as Ve}from"./ButtonGroup.19624d09.js";import{S as Ge}from"./index.7924c9c7.js";import"./ui.e26017cf.js";import"./tools.becc2b88.js";import"./wallet.eb251e2a.js";import"./inherits.303311a2.js";import"./useShare.dac42af0.js";import"./Twitter.88072fb4.js";import"./useTags.f9c969ef.js";import"./index.9ccd904a.js";import"./Github.2bf272eb.js";import"./valid.935dd966.js";import"./index.50b02406.js";import"./startup.3b3d8368.js";import"./util.25bcdacb.js";const de={},Ye='[{"inputs":[],"name":"FEE","outputs":[{"internalType":"uint24","name":"","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"URGENT_DIVEST_FEE","outputs":[{"internalType":"uint24","name":"","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_canUpdate","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_isCancel","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_isEnded","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_isFailed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_isLive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_isNative","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_isStarted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cancel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimInvest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimPresale","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"divest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"eip712Domain","outputs":[{"internalType":"bytes1","name":"fields","type":"bytes1"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"},{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"uint256[]","name":"extensions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"founderDivest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"presaleAmount","type":"uint256"},{"internalType":"uint256","name":"investAmount","type":"uint256"}],"name":"getAmount","outputs":[{"internalType":"uint256","name":"_presaleAmount","type":"uint256"},{"internalType":"uint256","name":"_investAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCanClaimTotal","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getClaimedTotal","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_router","type":"address"},{"internalType":"uint256","name":"_amountA","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"getHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"investor","type":"address"}],"name":"getInvestOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalReleased","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTransferLiquidityInvestAmount","outputs":[{"internalType":"uint256","name":"_investTransferLPAmount","type":"uint256"},{"internalType":"uint256","name":"_investTransferTeamAmount","type":"uint256"},{"internalType":"uint256","name":"_fee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"investAmount","type":"uint256"}],"name":"invest","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"investToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"parameters","outputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint24","name":"liquidityRate","type":"uint24"},{"internalType":"uint256","name":"minInvest","type":"uint256"},{"internalType":"uint256","name":"maxInvest","type":"uint256"},{"internalType":"uint256","name":"softCap","type":"uint256"},{"internalType":"uint256","name":"hardCap","type":"uint256"},{"internalType":"address","name":"router","type":"address"},{"internalType":"uint256","name":"dexInitPrice","type":"uint256"},{"internalType":"uint256","name":"startedAt","type":"uint256"},{"internalType":"uint256","name":"endedAt","type":"uint256"},{"internalType":"uint24","name":"firstRelease","type":"uint24"},{"internalType":"uint24","name":"cycle","type":"uint24"},{"internalType":"uint24","name":"cycleRelease","type":"uint24"},{"internalType":"uint24","name":"investTokenDecimals","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"presaleToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"teamWallet","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalInvest","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalPresale","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amountA","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"transferLiquidity","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unlockedAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_endedAt","type":"uint256"}],"name":"updateEndedAt","outputs":[],"stateMutability":"nonpayable","type":"function"}]';function V(t={addresses:de}){const r=F(),n=S(()=>({abi:Ye,addresses:de,wallet:r.wallet,chainId:r.chainId}));return{getContract:()=>Ue({...n.value,...t}),FEE:m({...n.value,...t},"FEE"),URGENT_DIVEST_FEE:m({...n.value,...t},"URGENT_DIVEST_FEE"),_canUpdate:m({...n.value,...t},"_canUpdate"),_isCancel:m({...n.value,...t},"_isCancel"),_isEnded:m({...n.value,...t},"_isEnded"),_isFailed:m({...n.value,...t},"_isFailed"),_isLive:m({...n.value,...t},"_isLive"),_isNative:m({...n.value,...t},"_isNative"),_isStarted:m({...n.value,...t},"_isStarted"),cancel:m({...n.value,...t},"cancel"),claimInvest:m({...n.value,...t},"claimInvest"),claimPresale:m({...n.value,...t},"claimPresale"),divest:m({...n.value,...t},"divest"),eip712Domain:m({...n.value,...t},"eip712Domain"),factory:m({...n.value,...t},"factory"),founderDivest:m({...n.value,...t},"founderDivest"),getAmount:m({...n.value,...t},"getAmount"),getCanClaimTotal:m({...n.value,...t},"getCanClaimTotal"),getClaimedTotal:m({...n.value,...t},"getClaimedTotal"),getHash:m({...n.value,...t},"getHash"),getInvestOf:m({...n.value,...t},"getInvestOf"),getTotalReleased:m({...n.value,...t},"getTotalReleased"),getTransferLiquidityInvestAmount:m({...n.value,...t},"getTransferLiquidityInvestAmount"),invest:m({...n.value,...t},"invest"),investToken:m({...n.value,...t},"investToken"),owner:m({...n.value,...t},"owner"),parameters:m({...n.value,...t},"parameters"),presaleToken:m({...n.value,...t},"presaleToken"),renounceOwnership:m({...n.value,...t},"renounceOwnership"),teamWallet:m({...n.value,...t},"teamWallet"),totalInvest:m({...n.value,...t},"totalInvest"),totalPresale:m({...n.value,...t},"totalPresale"),transferLiquidity:m({...n.value,...t},"transferLiquidity"),transferOwnership:m({...n.value,...t},"transferOwnership"),unlockedAt:m({...n.value,...t},"unlockedAt"),updateEndedAt:m({...n.value,...t},"updateEndedAt")}}const Ze=N({name:"CrowdfundingInfo",props:{info:{type:Object,required:!0}},setup(t){const r=C({}),n=C({}),s=ve(),i=S(()=>t.info.buy_token_contract==="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"),l=async c=>{const h=await s(c);return await Promise.all([h.name(),h.decimals(),h.totalSupply(),h.symbol()])},y=async()=>{var c;try{const[h,v,o,w]=await l(t.info.presale_token_contract);n.value.name=h,n.value.decimal=v,n.value.supply=ie(o.toString()).toString(),n.value.symbol=w}catch{n.value.name=t.info.sell_token_name||"--",n.value.decimal=t.info.sell_token_decimals,n.value.supply=((c=t.info.sell_token_supply)==null?void 0:c.toString())||"--",n.value.symbol=t.info.sell_token_symbol}},f=async()=>{var c;if(i)r.value.symbol=(c=X(t.info.chain_id))==null?void 0:c.currencySymbol;else try{const[h,v,o,w]=await l(t.info.invest_token_contract);r.value.name=h,r.value.decimal=v,r.value.supply=ie(o.toString()).toString(),r.value.symbol=w}catch{r.value.symbol="Token"}},u=c=>Number(c).toLocaleString().replace(".00",""),b=S(()=>(t.info.youtube,""));f(),y();const d=t.info.dex_router==="0x0000000000000000000000000000000000000000",p=S(()=>{var c;return(c=fe.find(h=>h.chainId===t.info.chain_id))==null?void 0:c.explorerUrl});return()=>e(D,null,{default:()=>{var c;return[e("div",{class:"mb-4 text-color1 u-h4"},[t.info.title]),t.info.youtube&&e("div",{class:"mb-6"},[e("iframe",{class:"rounded-sm",width:"100%",height:"320",src:`https://www.youtube.com/embed/${b.value}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0},null)]),t.info.detail&&e("div",{class:"mb-6"},[e("div",{class:"mb-1 u-title2"},[a("Launchpad detail\uFF1A")]),e("a",{class:"text-primary u-h5",target:"__blank",href:t.info.detail},[t.info.detail])]),e("div",{class:"mb-6 u-h6",innerHTML:t.info.description},null),e("div",{class:"grid text-color2 gap-y-6 grid-cols-[260px,1fr] u-h6 <lg:grid-cols-[1fr,1fr]"},[e("div",{class:"text-color1"},[a("Launchpad Address :")]),e("div",{class:"text-primary"},[e("a",{target:"_blank",href:`${p.value}/address/${t.info.contract_address}`},[t.info.contract_address])]),e("div",{class:"text-color1"},[a("Team Wallet Address :")]),e("div",{class:"text-primary"},[e("a",{target:"_blank",href:`${p.value}/address/${t.info.team_wallet}`},[t.info.team_wallet])]),e("div",{class:"text-color1"},[a("Token Contract :")]),e("div",{class:"text-primary"},[e("a",{target:"_blank",href:`${p.value}/address/${t.info.presale_token_contract}`},[t.info.presale_token_contract])]),e("div",{class:"text-color1"},[a("Token Name :")]),e("div",null,[n.value.name]),e("div",{class:"text-color1"},[a("Token Symbol :")]),e("div",null,[n.value.symbol]),e("div",{class:"text-color1"},[a("Token Decimals :")]),e("div",null,[n.value.decimal]),e("div",{class:"text-color1"},[a("Total Supply :")]),e("div",null,[u(n.value.supply),a(" "),n.value.symbol]),e("div",{class:"text-color1"},[a("Soft Cap :")]),e("div",null,[t.info.soft_cap]),e("div",{class:"text-color1"},[a("Hard Cap :")]),e("div",null,[t.info.hard_cap]),e("div",{class:"text-color1"},[a("Token For Launchpad :")]),e("div",null,[u(+t.info.hard_cap*+t.info.presale_price)," ",n.value.symbol]),e("div",{class:"text-color1"},[a("Rate :")]),e("div",null,[a("1 "),r.value.symbol,a(" = "),u(t.info.presale_price)," ",n.value.symbol]),e("div",{class:"text-color1"},[a("Liquidity :")]),e("div",null,[t.info.liquidity_rate*100,a(" %")]),e("div",{class:"text-color1"},[a("Minimum Buy :")]),e("div",null,[t.info.min_invest_amount]),e("div",{class:"text-color1"},[a("Maximum Buy :")]),e("div",null,[t.info.max_invest_amount]),e("div",{class:"text-color1"},[a("Start Time :")]),e("div",null,[I.utc(+(t.info.started_at||0)*1e3).format()]),e("div",{class:"text-color1"},[a("End Time :")]),e("div",null,[I.utc(+(t.info.ended_at||0)*1e3).format()]),e("div",{class:"text-color1"},[a("Listing Option :")]),e("div",null,[d?"Manual Listing":"Auto Listing"]),!d&&e($,null,[e("div",{class:"text-color1"},[a("Router :")]),e("div",null,[(c=ae(t.info.dex_router))==null?void 0:c.dex]),e("div",{class:"text-color1"},[a("Listing Rate :")]),e("div",null,[`1 ${r.value.symbol} = ${t.info.dex_init_price} ${n.value.symbol}`])]),+t.info.first_release!=1&&e($,null,[e("div",{class:"text-color1"},[a("First release for presale (%): ")]),e("div",null,[+t.info.first_release*100]),e("div",{class:"text-color1"},[a("Vesting period each cycle (days): ")]),e("div",null,[t.info.cycle/60/60/24]),e("div",{class:"text-color1"},[a("Presale token release each cycle (%) ")]),e("div",null,[+t.info.cycle_release*100])])])]}})}}),Xe=N({name:"CrowdfundingEditDialog",props:{show:{type:Boolean},info:{type:Object,required:!0}},emits:["close","update"],setup(t,r){const n=F(),s=C(!0),i=C({...t.info,startTime:Number(t.info.started_at)*1e3,endTime:Number(t.info.ended_at)*1e3});H(()=>t.show,async()=>{t.show&&([s.value]=[await l._canUpdate("","")].flat(),i.value={...t.info,startTime:Number(t.info.started_at)*1e3,endTime:Number(t.info.ended_at)*1e3})});const l=V({chainId:n.chainId,addresses:{[n.chainId]:t.info.contract_address}}),y=S(()=>n.chainId===t.info.chain_id),f=async()=>{var w;const o=await V({chainId:n.chainId,addresses:{[n.chainId]:t.info.contract_address}}).updateEndedAt(pe.from(Math.round(i.value.endTime/1e3)),"Waiting to update.","Waiting to update.");o&&((w=o.wait)==null||w.call(o).then(E=>{console.log(33333333,E)}))},u=C(!1),b=C();H(()=>t.info.description,()=>{var v;(v=b.value)==null||v.validate()});const d=S(()=>[{t:"string",title:"Title",name:"title",rules:[{required:!0,message:"Title cannot be blank",trigger:"blur"}],placeholder:"Input Launchpad title",maxlength:100},{t:"date",title:"Start Date (UTC)",name:"startTime",type:"datetime",class:"w-full !grid-rows-[28px,40px,1fr] items-start",format:"yyyy-MM-dd HH:mm",disabled:!0,placeholder:"Select a date"},{t:"date",title:"End Date (UTC)",name:"endTime",type:"datetime",class:"w-full !grid-rows-[28px,40px,1fr] items-start",actions:["confirm"],format:"yyyy-MM-dd HH:mm",required:!0,disabled:Number(t.info.ended_at)*1e3<new Date().getTime()||!y.value||!s.value,isDateDisabled:v=>v<Number(t.info.ended_at)*1e3,placeholder:"Select a date"},{t:"custom",title:"Poster",name:"poster",slots:{label:()=>[Fe(e("div",{class:"flex items-end"},[a("Poster"),e("span",{class:"n-form-item-label__asterisk"},[a("\xA0*")])," "]))]},formItemProps:{first:!0},render(){return e(he,{placeholder:"Recommended image ratio: 3:2, Max size: 1MB",value:{id:"0",name:"poster",status:"finished",url:i.value.poster},"onUpdate:value":v=>(v==null?void 0:v.url)&&(i.value.poster=v.url)},null)}},{title:"Youtube",name:"youtube",maxlength:200,placeholder:"EX\uFF1Ahttps://www.youtube.com/watch?v=xxxxx",rules:[{validator:(v,o)=>!o||o&&o.startsWith("https://www.youtube.com/watch?v="),message:"Invalid youtube video",trigger:"blur"}]},{title:"Launchpad Detail",name:"detail",maxlength:200,placeholder:"EX\uFF1Ahttps://...",rules:[{validator:(v,o)=>!o||o&&o.startsWith("https://"),message:"Invalid URL",trigger:"blur"}]},{t:"custom",title:"Description",name:"description",formItemProps:{ref:v=>b.value=v,first:!0},rules:[{required:!0,message:"Description must be 64 characters or more",trigger:"blur"},{validator:(v,o)=>o&&o.replace(/<.>|<\/.>/g,"").length>64,message:"Description must be 64 characters or more",trigger:"blur"}],render(){return e(Pe,{limit:512,placeholder:"Much more details to description this Launchpad",class:"w-full",value:i.value.description,"onUpdate:value":v=>i.value.description=v},null)}}]),p=ge(d.value),c=C();return{handleSubmit:()=>{var v;return(v=c.value)==null?void 0:v.validate(async o=>{if(!o){String(i.value.endTime)!==String(Number(t.info.ended_at)*1e3)&&(console.log("endTime change"),await f()),console.log("save api"),u.value=!0;const{error:w}=await K["SaleLaunchpad@update-sale-launchpad"]({description:i.value.description,detail:i.value.detail,id:i.value.id,poster:i.value.poster,title:i.value.title,youtube:i.value.youtube});w||r.emit("update"),u.value=!1}})},formFields:d,crowdfundingInfo:i,additionalInfoRules:p,formRef:c,loading:u}},render(){return e(le,{show:this.show,maskClosable:!1},{default:()=>[e(D,{style:{width:"540px","--n-title-text-color":"#000"},size:"huge",closable:!0,onClose:()=>this.$emit("close"),title:"Edit"},{default:()=>[e("div",{class:"min-h-20 max-h-[60vh] text-color2 overflow-auto u-h6"},[e(we,{rules:this.additionalInfoRules,model:this.crowdfundingInfo,ref:t=>this.formRef=t},{default:()=>[e(xe,{fields:this.formFields,values:this.crowdfundingInfo},null)]})]),e("div",{class:"flex mt-4 justify-end"},[e(g,{type:"primary",ghost:!0,class:"mr-4 w-41",onClick:()=>this.$emit("close"),loading:this.loading},{default:()=>[a("Cancel")]}),e(g,{type:"primary",class:"w-41",onClick:this.handleSubmit,loading:this.loading},{default:()=>[a("Yes")]})])]})]})}}),Je=N({name:"Founder",props:{info:{type:Object,required:!0},buyCoinInfo:{type:Object,required:!0},sellCoinInfo:{type:Object,required:!0},startup:{type:Object,require:!0},investState:{type:Object,require:!0}},setup(t,r){const n=F(),s=ae(t.info.dex_router),i=Boolean(s),l=V({chainId:n.chainId,addresses:{[n.chainId]:t.info.contract_address}}),y=C(!1),f=t.investState;function u(){l.cancel("Cancelling launchpad.","Cancelling launchpad.")}async function b(){var T;const{provider:c}=l.getContract(),h=await c.getBlockNumber();if((await c.getBlock(h)).timestamp*1e3<=Number(t.info.end_time)){Ce.info("Please wait for the time of next block minted to retry if you fail to transfer liquidity.");return}if(!i||!n.chainId)return;await We(n.chainId);const{error:w,data:E}=await K["SaleLaunchpad@get-sale-launchpad-transfer-lp-sign"]({sale_launchpad_id:t.info.id});if(w)return;const _=await l.parameters("get parameters","waiting"),R=_[6],q=_[7],j=_[13],[x]=await l.getTransferLiquidityInvestAmount("get amount","waiting"),k=x.mul(q).div(pe.from(10).pow(j));await l.transferLiquidity(k,E.data,E.sign,`Transferring liquidity into ${(T=ae(R))==null?void 0:T.dex}`,"Transaction Submitted")}function d(){const c="Waiting to submit all contents to blockchain for removing",h="Waiting to confirm.";l.claimInvest(c,h)}function p(){l.founderDivest("Withdrawing deposit in progress","Withdrawing deposit")}return()=>e("div",{class:"flex justify-between gap-4 <lg:px-0"},[f.isFailed?e("div",{class:"w-full h-[70px] flex flex-col justify-center"},[f.totalPreSale.isZero()?e(M,null,{trigger:()=>e(g,{class:"flex-1",size:"small",tag:"div",type:"primary",disabled:!0},{default:()=>[a("Withdraw deposit")]}),default:()=>e("div",null,[a("You have withdrawn the deposit.")])}):e(g,{class:"flex-1",size:"small",type:"primary",onClick:()=>p()},{default:()=>[a("Withdraw deposit")]}),e("span",{class:"text-center mt-2 text-gray-500"},[a("Since the soft cap was not reached")])]):f.isCancel?e(g,{class:"flex-1",size:"small",onClick:u,disabled:!0},{default:()=>[a("Cancelled")]}):f.isEnd?e($,null,[e(g,{class:"flex-2 w-50",size:"small",onClick:u,disabled:f.isTransed},{default:()=>[a("Cancel")]}),f.isTransed?e(M,null,{trigger:()=>e(g,{class:"flex-1",tag:"div",size:"small",type:"primary",disabled:!0},{default:()=>[i?"Transfer Liquidity":"Remove"]}),default:()=>e("div",null,[i?"Liquidity has been transferred.":"The pool has been removed to the team wallet."])}):e(g,{class:"flex-1",size:"small",type:"primary",onClick:()=>i?b():d()},{default:()=>[i?"Transfer Liquidity":"Remove"]})]):f.isStarted&&e($,null,[e(g,{class:"flex-2 w-50",size:"small",onClick:()=>{y.value=!0}},{default:()=>[a("Cancel")]}),e(M,null,{trigger:()=>e(g,{class:"flex-1",size:"small",type:"primary",disabled:!0,tag:"div"},{default:()=>[i?"Transfer Liquidity":"Remove"]}),default:()=>e("div",null,[a("Liquidity should transfer after launchpad ended.")])})]),e(le,{show:y.value,"onUpdate:show":c=>y.value=c,maskClosable:!1},{default:()=>[e(D,{style:{width:"540px","--n-title-text-color":"#000"},size:"huge",closable:!0,onClose:()=>y.value=!1,title:"Cancel the launchpad\uFF1F"},{default:()=>[e("div",{class:"min-h-20 text-color2 u-h6"},[a("The launchpad will close and the presale tokens will be refunded to your wallet as soon as you click yes.")]),e("div",{class:"flex mt-4 justify-end"},[e(g,{type:"primary",ghost:!0,class:"mr-4 w-41",onClick:()=>{y.value=!1}},{default:()=>[a("Cancel")]}),e(g,{type:"primary",class:"w-41",onClick:()=>{y.value=!1,u()}},{default:()=>[a("Yes")]})])]})]})])}}),Ke=N({name:"Investor",props:{info:{type:Object,required:!0},buyCoinInfo:{type:Object,required:!0},sellCoinInfo:{type:Object,required:!0},startup:{type:Object,require:!0},amount:{type:Number,require:!0},investState:{type:Object,require:!0}},setup(t,r){const n=F(),s=C(!1),i=V({chainId:n.chainId,addresses:{[n.chainId]:t.info.contract_address}}),l=t.investState;async function y(){await i.invest(B(String(t.amount),t.buyCoinInfo.decimal),"The transaction of buying is processing","Waiting to confirm",{value:Oe(String(t.amount))})}async function f(){i.claimPresale("Your purchased tokens are being claimed.","Claiming tokens")}async function u(){i.divest("Withdrawal Contribution are being processed.","Contribution is being withdrawn.")}async function b(){i.divest("Emergencyt withdrawals are being processed.","Emergencyt Withdrawing")}return()=>e("div",{class:"flex justify-between gap-4 mt-10 <lg:px-0"},[l.isFailed?e("div",{class:"w-full h-[70px] flex flex-col justify-center"},[l.investedAmount.isZero()?e(M,null,{trigger:()=>e(g,{class:"flex-1",type:"primary",tag:"div",disabled:!0},{default:()=>[a("Withdraw Contribution")]}),default:()=>e("div",null,[a("You have not contributed.")])}):e(g,{class:"flex-1",type:"primary",onClick:u},{default:()=>[a("Withdraw Contribution")]}),e("span",{class:"text-center mt-2 text-gray-500"},[a("Since the soft cap was not reached")])]):l.isCancel?e("div",{class:"w-full h-[70px] flex flex-col justify-center"},[l.investedAmount.isZero()?e(M,null,{trigger:()=>e(g,{class:"flex-1",size:"small",tag:"div",type:"primary",disabled:!0},{default:()=>[a("Withdraw Contribution")]}),default:()=>e("div",null,[a("You have not contributed.")])}):e(g,{class:"flex-1",size:"small",type:"primary",onClick:u},{default:()=>[a("Withdraw Contribution")]}),e("span",{class:"text-center mt-2 text-gray-500"},[a("Since the founder cancelled the presale")])]):l.isEnd?l.isTransed?l.canClaim.isZero()?e(M,null,{trigger:()=>e(g,{class:"flex-1",size:"small",tag:"div",onClick:f,type:"primary",disabled:!0},{default:()=>[a("Claim")]}),default:()=>e("div",null,[a("You have no tokens to claim.")])}):e(g,{class:"flex-1",size:"small",onClick:f,type:"primary"},{default:()=>[a("Claim ( "),J(l.canClaim),a(" "),t.sellCoinInfo.symbol,a(")")]}):e(M,null,{trigger:()=>e(g,{class:"flex-1",size:"small",onClick:f,type:"primary",disabled:!0,tag:"div"},{default:()=>[a("Claim")]}),default:()=>e("div",null,[a("When the creator finishes the launchpad, you can start the first claim, please be patient")])}):e($,null,[e(g,{class:"flex-1",size:"small",type:"primary",onClick:y,disabled:!t.amount||!t.buyCoinInfo.balance||+t.amount<+t.info.min_invest_amount||+t.amount>+t.info.max_invest_amount||+t.amount>+t.buyCoinInfo.balance},{default:()=>[a("Buy with "),t.buyCoinInfo.symbol]}),!l.investedAmount.isZero()&&e(g,{class:"flex-1",size:"small",onClick:()=>s.value=!0},{default:()=>[a("Emergency Withdraw")]})]),e(le,{show:s.value,"onUpdate:show":d=>s.value=d,maskClosable:!1},{default:()=>[e(D,{style:{width:"540px","--n-title-text-color":"#000"},size:"huge",closable:!0,onClose:()=>s.value=!1,title:"Confirm Emergency Withdraw"},{default:()=>[e("div",{class:"min-h-20 text-color2 u-h6"},[a("Emergency withdrawal takes your contribution (with 10% penalty) out of Presale Pool and cancels your participation in the presale.")]),e("div",{class:"flex mt-4 justify-end"},[e(g,{type:"primary",ghost:!0,class:"mr-4 w-41",onClick:()=>s.value=!1},{default:()=>[a("Cancel")]}),e(g,{type:"primary",class:"w-41",onClick:()=>{s.value=!1,b()}},{default:()=>[a("Yes")]})])]})]})])}});function Qe(t,r){const n=V({chainId:t,addresses:r}),s=F(),i=se({isStarted:!1,isCancel:!1,isEnd:!1,isLive:!1,isFailed:!1,isTransed:!1,investedAmount:B("0",18),canClaimTotal:B("0",18),canClaim:B("0",18),unlockAt:0,totalPreSale:B("0",18)});async function l(){const[y,f,u,b,d,p,c,h]=await Promise.all([n._isStarted("",""),n._isFailed("",""),n._isLive("",""),n._isEnded("",""),n._isCancel("",""),n.unlockedAt("",""),n.getInvestOf(s.address,"",""),n.totalPresale("","")]);if([i.isStarted]=[y].flat(),[i.isFailed]=[f].flat(),[i.isLive]=[u].flat(),[i.isEnd]=[b].flat(),[i.isCancel]=[d].flat(),[i.unlockAt]=[p].flat(),[i.investedAmount]=[c].flat(),[i.totalPreSale]=[h].flat(),i.isTransed=i.unlockAt>0,!i.investedAmount.isZero()&&i.isTransed){const[v,o]=await n.getCanClaimTotal("","");i.canClaimTotal=v,i.canClaim=o}}return console.log("investState:",i),oe(()=>l()),{investState:i,setInvestState:l}}function et(t,r,n){const s="u-h4 rounded-sm px-1 min-w-10 text-center py-2",i=C(I.utc()),l=se({status:n,days:"00",hours:"00",minutes:"00",seconds:"00",class:`${s} bg-[rgba(245,246,250,1)] text-black text-opacity-10`});if(n===L.CANCELED)return l.class=`${s} bg-[rgba(245,246,250,1)] text-black text-opacity-10`,l;const y=()=>(i.value=I.utc(),i.value.isAfter(I(Number(r)).utc())?null:setTimeout(y,1e3));return y(),De(()=>{if(i.value.isBefore(I(Number(t)).utc())){const f=I.duration(I(Number(t)).utc().diff(i.value)),[u,b,d]=f.format("HH-mm-ss").split("-"),p=Math.floor(f.asDays());l.status=L.UPCOMING,l.days=String(p),l.hours=u,l.minutes=b,l.seconds=d,l.class=`${s} bg-[rgba(83,49,244,0.06)] text-primary`}if(i.value.isAfter(I(Number(t)).utc())&&i.value.isBefore(I(Number(r)).utc())){const f=I.duration(I(Number(r)).utc().diff(i.value)),u=Math.floor(f.asDays()),[b,d,p]=f.format("HH-mm-ss").split("-");l.status=L.LIVE,l.days=String(u),l.hours=b,l.minutes=d,l.seconds=p,l.class=`${s} bg-[rgba(83,49,244,0.06)] text-primary`}i.value.isAfter(I(Number(r)).utc())&&(l.status=L.ENDED,l.class=`${s} bg-[rgba(242,159,57,0.06)] text-warning`)}),l}const Z=(t,r="")=>{const n="u-h3",s=t==="--",i=s?t:Number(t).toLocaleString().includes(".")?Number(t).toLocaleString():Number(t).toLocaleString()+".00";return s?e("div",null,[i]):e(M,null,{trigger:()=>t>1e6?e("div",{class:n},[(t/1e6).toFixed(1).replace(/\.0$/,""),a("M")]):t>1e3?e("div",{class:n},[(t/1e3).toFixed(1).replace(/\.0$/,""),a("K")]):e("div",{class:n},[t.toFixed(2).replace(/\.00$/,""),a(" ")]),default:()=>e("div",null,[i+" "+r])})};function tt(t){return e("div",{class:"flex-1 grid gap-4 grid-cols-2 overflow-hidden u-h7"},[e("div",{class:"rounded-sm flex flex-col bg-[rgba(83,49,244,0.06)] h-19 pl-4 justify-center"},[e("div",{class:"flex text-primary  items-end"},[e("span",{class:"mr-1"},[Z(t.raised,t.symbol)]),t.symbol]),e("div",{class:"mt-1 text-color3 u-h7"},[a("Raised")])]),e("div",{class:"rounded-sm flex flex-col bg-[rgba(83,49,244,0.06)] h-19 pl-4 justify-center"},[e("div",{class:"flex text-primary items-end"},[e("span",{class:"mr-1"},[Z(t.progress,"%")]),a("%")]),e("div",{class:"mt-1 text-color3 u-h7"},[a("Progress")])]),e("div",{class:"rounded-sm flex flex-col bg-[rgba(28,96,243,0.06)] bg-opacity-6 h-19 pl-4 justify-center"},[e("div",{class:"flex text-primary items-end"},[e("span",{class:"mr-1"},[Z(t.soft,t.symbol)]),t.symbol]),e("div",{class:"mt-1 text-color3 u-h7"},[a("Soft Cap")])]),e("div",{class:"rounded-sm flex flex-col bg-[rgba(28,96,243,0.06)] bg-opacity-6 h-19 pl-4 justify-center"},[e("div",{class:"flex text-primary items-end"},[e("span",{class:"mr-1"},[Z(t.hard,t.symbol)]),t.symbol]),e("div",{class:"mt-1 text-color3 u-h7"},[a("Hard Cap")])])])}function nt(t){console.log(t.status,999);const r={[L.CANCELED]:"Cancelled",[L.ENDED]:"Launchpad Has Ended",[L.LIVE]:"Launchpad Ends In",[L.UPCOMING]:"Launchpad Starts In"};return e($,null,[e("div",{class:"text-right mb-4 text-color3 u-h5 <lg:my-4 <lg:text-left"},[r[t.status]]),e("div",{class:"flex items-center"},[e("span",{class:`${t.class} ml-2 <lg:ml-0`},[t.days]),e("span",{class:`${t.class} ml-2`},[t.hours]),e("span",{class:`${t.class} ml-2`},[t.minutes]),e("span",{class:`${t.class} ml-2`},[t.seconds])])])}const at=N({name:"InvestFair",props:{info:{type:Object,required:!0},buyCoinInfo:{type:Object,required:!0},sellCoinInfo:{type:Object,required:!0},startup:{type:Object,require:!0}},setup(t,r){const n=X(t.info.chain_id),s=ye(),i=C(0),l=F(),{investState:y,setInvestState:f}=Qe(l.chainId,{[l.chainId]:t.info.contract_address}),u=et(Number(t.info.started_at)*1e3,Number(t.info.ended_at)*1e3,t.info.status),b=S(()=>{var o;return((o=s.profile)==null?void 0:o.id)===t.info.comer_id}),d=S(()=>l.chainId===t.info.chain_id),p=async o=>{var w;await l.ensureWalletConnected(),await((w=l.wallet)==null?void 0:w.switchNetwork(o))},c=async o=>{};function h(o,w,E,_){const R=I.utc(),q=I(+o).utc(),j=Math.ceil((100-w)/_),x=Math.floor((R.unix()-q.unix())/E),k=E-(R.unix()-q.unix())%E;return{totalCycle:j,currentCycle:x,remainingDaysNextCycle:k}}function v(){if(!t.buyCoinInfo.balance||!t.info.max_invest_amount)return 0;const o=+t.info.max_invest_amount-+J(y.investedAmount);return Math.min(+t.buyCoinInfo.balance,o)}return H(()=>t.info,()=>f()),H(()=>i.value,o=>{o>v()&&(i.value=v())}),r.expose({getFundingState:c}),()=>{const{totalCycle:o,currentCycle:w,remainingDaysNextCycle:E}=h(y.unlockAt*1e3,t.info.first_release*100,t.info.cycle*1e3,t.info.cycle_release*100);return e(D,null,{default:()=>[e("div",{class:"flex mb-10 <lg:block"},[e("div",null,[e("div",{class:"flex mb-4 items-center"},[e("span",{class:"flex leading-snug items-center"},[e("img",{src:n==null?void 0:n.logo,class:"h-4 w-4"},null),e("span",{class:"ml-2 text-color2 u-h6"},[n==null?void 0:n.name])])]),e("div",{class:" text-primary u-h6"},[a("Rate\uFF1A1 "),t.buyCoinInfo.symbol||"Token",a(" = "),t.info.presale_price," ",t.sellCoinInfo.symbol||t.info.sell_token_symbol||"Token"])]),e("div",{class:"flex-1"},null),e("div",null,[e(nt,u,null)])]),!b.value&&e("div",{class:"flex-1 overflow-hidden mb-10"},[e("div",{class:"flex mb-2 justify-between"},[e("span",{class:"text-color3 u-h7"},null),e("span",{class:"text-primary1 u-num1"},[a("Balance :"),t.buyCoinInfo.balance||"--"])]),e("div",null,[e(_e,{value:i.value,"onUpdate:value":_=>i.value=_,inputProps:{disabled:!1,placeholder:"0.0",precision:t.buyCoinInfo.decimal,max:Math.min(+t.buyCoinInfo.balance||0,t.info.max_invest_amount||0)},type:"withUnit",renderUnit:()=>e("div",{class:["u-h5 flex justify-center items-center border rounded-r-sm bg-purple w-30",{"text-color1":"symbol","text-color3":"!symbol"}]},[e(ze,{symbol:t.buyCoinInfo.symbol,class:"h-4 mr-2 w-4"},null),e("span",null,[t.buyCoinInfo.symbol||"Token"])])},{suffix:()=>e("div",{class:"cursor-pointer text-primary u-label1",onClick:()=>{i.value=v()}},[a("MAX")])})])]),e("div",{class:"flex <lg:block"},[e(tt,{raised:+t.info.invest_token_balance,progress:+t.info.invest_token_balance/+t.info.soft_cap*100,soft:+t.info.soft_cap,hard:+t.info.hard_cap,symbol:t.info.invest_token_symbol},null),e("div",{class:"px-6  overflow-hidden <lg:w-auto <lg:px-0"},[e("div",{class:"flex mb-4 u-h6 <lg:my-5"},[e("span",{class:"flex flex-1 text-color1 overflow-hidden items-center"},[a("Minimum buy\uFF1A")]),e("span",{class:"text-color2"},[t.info.min_invest_amount,a(" "),t.buyCoinInfo.symbol])]),e("div",{class:"flex mb-4 u-h6"},[e("span",{class:"flex flex-1 text-color1 overflow-hidden items-center"},[a("Maximum buy\uFF1A")]),e("span",{class:"text-color2"},[t.info.max_invest_amount,a(" "),t.buyCoinInfo.symbol])]),e("div",{class:"flex mb-4 u-h6"},[e("span",{class:"flex flex-1 text-color1 overflow-hidden items-center"},[a("Liquidity %\uFF1A")]),t.info.liquidity_rate?e("span",{class:"text-color2"},[+t.info.liquidity_rate*100,a(" %")]):"--"]),e("div",{class:"flex mb-4 u-h6"},[e("span",{class:"flex flex-1 text-color1 overflow-hidden items-center"},[a("Current Vest Cycle\uFF1A")]),e("span",{class:"text-color2"},[t.info.first_release===1||!y.isTransed?"--":`${w}/${o}`])]),e("div",{class:"flex u-h6"},[e("span",{class:"flex flex-1 text-color1 overflow-hidden items-center"},[a("Remaining Vesting Cycle\uFF1A")]),e("span",{class:"text-color2"},[t.info.first_release===1||!y.isTransed?"--":`in ${Math.ceil(E/1e3/60/60/24)} days`])])])]),e("div",{class:"actions mt-8"},[l.address?d.value?b.value?e(Je,ce(t,{investState:y}),null):e(Ke,ce(t,{amount:i.value,investState:y}),null):e(g,{tag:"div",type:"primary",size:"small",class:"w-full",onClick:()=>p(t.info.chain_id)},{default:()=>{var _;return[a("Switch to "),(_=X(t.info.chain_id))==null?void 0:_.name]}}):e(g,{tag:"div",type:"primary",size:"small",class:"w-full",onClick:()=>l.ensureWalletConnected()},{default:()=>[a("Connect")]})])]})}}});function it(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!je(t)}const me=N({name:"InvestmentRecords",props:{buyTokenName:{type:String},sellTokenName:{type:String}},setup(t,r){const n=Ne(),s=qe("paramCrowdfundingId");if(!s)return null;const i=se({pageSize:20,total:300,page:1,loading:!1}),l=C(),y=b=>{let d="+";const p=b.token_symbol,c=b.amount;return b.amount.startsWith("-")&&(d=""),e("span",{title:c},[`${d} ${c.split(".")[1]&&c.split(".")[1].length>4?c.split(".")[0]+"."+c.split(".")[1].substring(0,4)+"...":c} ${p}`])},f=async(b=1)=>{try{const{error:d,data:p}=await K["SaleLaunchpad@get-sale-launchpad-history-records"]({sale_launchpad_id:s,page:b,size:i.pageSize});d||(l.value=p.list||[])}catch(d){console.error("error",d)}},u=b=>{b&&n.push({path:"/builder",query:{id:b}})};return oe(()=>{f(i.page)}),r.expose({getInvestRecord:f}),{pagination:i,investRecords:l,getInvestRecord:f,getAmount:y,toComerDetail:u}},render(){let t;return e(D,{title:"Investment Record"},{default:()=>{var r,n;return[!!((r=this.investRecords)!=null&&r.length)&&e(Te,{triggered:this.pagination.loading,page:this.pagination.page,pageSize:this.pagination.pageSize,total:this.pagination.total,onLoadMore:()=>this.getInvestRecord(this.pagination.page)},it(t=((n=this.investRecords)!=null?n:[]).map(s=>{var i,l,y,f;return e("div",{class:"flex mb-4"},[e("div",{onClick:()=>this.toComerDetail(s.comer_id),class:"rounded-full cursor-pointer h-9 w-9"},[e(Ie,{src:(l=(i=s.comer)==null?void 0:i.avatar)!=null?l:"",class:"h-full w-full"},null)]),e("div",{class:"flex-1 mx-2 overflow-hidden"},[e("div",{class:"flex mb-1 items-center"},[e("div",{class:"flex-1 text-color1 truncate u-h5"},[(y=s.comer)!=null&&y.address?Be((f=s.comer)==null?void 0:f.address):""]),e(ke,{class:"ml-2 text-color3 whitespace-nowrap"},{default:()=>[{1:"Buy",2:"founder \u64A4\u8D44",3:"Withdraw",4:"\u6295\u8D44\u8005\u8BA4\u9886\u9884\u552Etoken",5:"founder \u8BA4\u9886\u6295\u8D44token",6:"\u53D6\u6D88",7:"\u53D6\u6D88\u8FD4\u8FD8\u6295\u8D44\u4EBA\u6295\u8D44token\uFF08\u8FD9\u4E2A\u6CA1\u6709\uFF0C\u9884\u7559\uFF09",8:"\u53D6\u6D88\u8FD4\u8FD8founder\u8D28\u62BC\u9884\u552Etoken",9:"\u8F6C\u79FB\u6D41\u52A8\u6027"}[s.type]]})]),e("div",{class:"mb-2 text-color3 u-h7"},[I.utc(+s.timestamp*1e3).format()])]),e("div",{class:"text-primary whitespace-nowrap"},[this.getAmount(s)])])}))?t:{default:()=>[t]})]}})}});const lt=N({name:"TokenInformation",props:{sellCoinInfo:{type:Object,required:!0},info:{type:Object,required:!0}},setup(t,r){return{blockchainExplorerUrl:S(()=>{var s;return(s=fe.find(i=>i.chainId===t.info.chain_id))==null?void 0:s.explorerUrl})}},render(){const t=r=>Number(r).toLocaleString().replace(".00","");return e(D,{title:"Token Information"},{default:()=>[e("div",{class:"token-info-item"},[e("span",{class:"token-info-item-label"},[a("Totally Supply\uFF1A")]),e("span",{class:"text-color2  truncate"},[this.sellCoinInfo.supply?t(this.sellCoinInfo.supply):"--",this.sellCoinInfo.symbol])]),e("div",{class:"token-info-item"},[e("span",{class:"token-info-item-label"},[a("Token Name\uFF1A")]),e("span",{class:"text-color2  truncate"},[this.sellCoinInfo.name||"--"])]),e("div",{class:"token-info-item"},[e("span",{class:"token-info-item-label"},[a("Token Symbol\uFF1A")]),e("span",{class:"text-color2  truncate"},[this.sellCoinInfo.symbol||"--"])]),e("div",{class:"mb-0 token-info-item"},[e("div",{class:"token-info-item-label"},[a("Token Contract\uFF1A")]),e(Se,{class:"token-info-item-address",address:this.info.presale_token_contract||"--",autoSlice:!0,blockchainExplorerUrl:`${this.blockchainExplorerUrl}/address/`},null)])]})}}),Ft=N({name:"CrowdfundingDetail",setup(t){const r=Re(),n=Ee(),s=F(),i=Me(),l=ye(),y=C(),f=C(),u=C(),b=C(),d=C({name:"",address:""}),p=C({name:"",address:""}),c=C(!1),h=async x=>{var A,O,P;c.value=!0;const{error:k,data:T}=await K["SaleLaunchpad@get-sale-launchpad-info"]({sale_launchpad_id:x});c.value=!1,k||(u.value=T,b.value={...T.startup,title:(A=T==null?void 0:T.startup)==null?void 0:A.name,tag:(P=(O=T==null?void 0:T.startup)==null?void 0:O.tags)==null?void 0:P.map(G=>{var U;return(U=G.tag)==null?void 0:U.name})})},v=S(()=>{var x;return((x=u.value)==null?void 0:x.invest_token_contract)==="0x0000000000000000000000000000000000000000"}),o=S(()=>{var x;return s.chainId===((x=u.value)==null?void 0:x.chain_id)}),w=async()=>{var x,k,T,A,O,P,G,U,ue;if(u.value&&s.connected){const re=ve(),W=re(u.value.presale_token_contract);if(o.value){const[Q,z,ee,te,be]=await Promise.all([W.name(),W.decimals(),W.totalSupply(),W.symbol(),W.balanceOf(s.address)]);p.value.name=Q,p.value.decimal=z,p.value.supply=ie(ee.toString()).toString(),p.value.symbol=te||((x=u.value)==null?void 0:x.sell_token_symbol),p.value.balance=J(be,z)}else p.value.name=((k=u.value)==null?void 0:k.presale_token_name)||"--",p.value.decimal=(T=u.value)==null?void 0:T.presale_token_decimals,p.value.supply=(((A=u.value)==null?void 0:A.presale_token_supply)||0).toString(),p.value.symbol=((O=u.value)==null?void 0:O.presale_token_symbol)||"--",p.value.balance="--";const Y=re(u.value.invest_token_contract);if(o.value)if(v.value)d.value.symbol=(P=X(u.value.chain_id))==null?void 0:P.currencySymbol,d.value.balance=await s.getBalance(s.address)||"--";else{const[Q,z,ee,te]=await Promise.all([await Y.name(),await Y.decimals(),await Y.symbol(),await Y.balanceOf(s.address)]);d.value.name=Q,d.value.decimal=z,d.value.symbol=ee,d.value.balance=J(te,z)}else d.value.name=((G=u.value)==null?void 0:G.invest_token_symbol)||"--",d.value.decimal=((U=u.value)==null?void 0:U.invest_token_decimals)||0,d.value.symbol=((ue=u.value)==null?void 0:ue.invest_token_symbol)||"--",d.value.balance="--"}};H(()=>o.value,()=>w());const E=async()=>{var x;w(),(x=y.value)==null||x.getInvestRecord(),j.value=!1},_=Number(r.params.id);ne("paramCrowdfundingId",_),oe(()=>{h(_).then(w)}),$e(()=>{i.unsubscribe("crowdfunding",2)}),i.init().then(x=>{i.subscribe("sale_launchpad",2,k=>{var T;k.topic==="subscribe"&&k.data.target_id===_&&(console.warn("socket get detail change, do update...",_),h(_).then(()=>{var A;(A=f.value)==null||A.getFundingState(s.chainId),w()}),(T=y.value)==null||T.getInvestRecord())},_)});const R=C();ne("startupInfo",S(()=>b.value)),ne("raiseState",R);const q=S(()=>{var x,k;return((x=l.profile)==null?void 0:x.id)===((k=u.value)==null?void 0:k.comer_id)}),j=C(!1);return{pageLoading:c,crowdfundingInfo:u,buyCoinInfo:d,sellCoinInfo:p,initPage:E,getCrowdfundingInfo:h,onRefreshData:()=>h(_).then(w),startupInfo:b,investRecordsRef:y,investRef:f,raiseState:R,isInCrowdChain:o,isFounder:q,SettingVisible:j,globalConfigStore:n}},render(){return e(Ae,{show:this.pageLoading},{default:()=>{var t,r,n,s,i;return[e("div",{class:"flex gap-6 relative <lg:pt-10 <lg:block"},[this.startupInfo&&this.startupInfo.name&&e(He,{class:"top-0 left-[100%] absolute <lg:left-auto <lg:right-0",generate:{banner:this.startupInfo.banner,logo:this.startupInfo.logo,name:this.startupInfo.name+"-Launchpad",infos:[{count:(t=this.raiseState)==null?void 0:t.raiseGoal,unit:this.buyCoinInfo.symbol,label:"Raise Goal"},{count:`${(r=this.raiseState)==null?void 0:r.raisePercent} %`,label:"Progress"}]},route:window.location.href,title:((n=this.startupInfo)==null?void 0:n.name)+"--Launchpad | GoRollux",description:"Check out the launchpad on GoRollux, The lead building launchpad on Rollux and Syscoin",text:`${(s=this.startupInfo)==null?void 0:s.name} just launched a #presale #launchpad for ${(i=this.raiseState)==null?void 0:i.raiseGoal} ${this.buyCoinInfo.symbol}, check it out on #GoRollux Network: `,tipPlacement:"right"},{default:()=>[this.isFounder&&this.globalConfigStore.isLargeScreen&&e(M,{placement:"left"},{trigger:()=>e("div",{class:`${Ve}`,onClick:()=>this.SettingVisible=!0},[e(Le,null,null)]),default:()=>"Setting"})]}),e("div",{class:"w-86 overflow-hidden <lg:w-auto"},[this.startupInfo&&e(Ge,{startup:this.startupInfo,class:"mb-6"},null),this.crowdfundingInfo&&e(lt,{class:"mb-6",sellCoinInfo:this.sellCoinInfo,info:this.crowdfundingInfo},null),this.globalConfigStore.isLargeScreen?e(me,{class:"mb-6",ref:l=>this.investRecordsRef=l,buyTokenName:this.buyCoinInfo.symbol,sellTokenName:this.sellCoinInfo.symbol},null):null]),e("div",{class:"flex-1 relative overflow-hidden"},[this.crowdfundingInfo&&e(at,{ref:l=>this.investRef=l,class:"mb-6",startup:this.startupInfo,buyCoinInfo:this.buyCoinInfo,sellCoinInfo:this.sellCoinInfo,info:this.crowdfundingInfo,onRefreshData:this.onRefreshData},null),this.crowdfundingInfo&&e(Ze,{info:this.crowdfundingInfo,class:"<lg:mb-6"},null),this.globalConfigStore.isLargeScreen?null:e(me,{class:"mb-6",ref:l=>this.investRecordsRef=l,buyTokenName:this.buyCoinInfo.symbol,sellTokenName:this.sellCoinInfo.symbol},null)])]),this.isFounder&&this.crowdfundingInfo&&e(Xe,{show:this.SettingVisible,info:this.crowdfundingInfo,onClose:()=>this.SettingVisible=!1,onUpdate:()=>{this.onRefreshData(),this.SettingVisible=!1}},null)]}})}});export{Ft as default};
