import{e as b,u as g}from"./vue.5bd64dc7.js";import{_ as x,p as v,H as w,a as _}from"./index.ac02f68f.js";import{r as C}from"./Plus.10119c44.js";import{U as y}from"./index.3b8295ff.js";import{l as f,r as h,t as L,ai as j,H as d,bm as o,j as u,k as P}from"./bundle.f4813fa2.js";import{S as H}from"./index.9ccd904a.js";import{d as k,a as D,u as O}from"./useProfile.7801581e.js";import{c as S}from"./util.25bcdacb.js";import{i as T,a as $,b as E}from"./project.ffe82219.js";import"./ui.e26017cf.js";import"./tools.becc2b88.js";import"./ethers.043ad920.js";import"./wallet.eb251e2a.js";import"./inherits.303311a2.js";import"./TextLogo.be8c481d.js";import"./Github.2bf272eb.js";import"./Twitter.88072fb4.js";import"./valid.935dd966.js";const z=f({name:"ProfileHeader",props:{profile:{type:Object,required:!0}},setup(t){const l=b(),r=h(""),i=()=>{(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>0?r.value="bg-white/80":r.value=""};L(()=>{window.addEventListener("scroll",i,!0)}),j(()=>{window.removeEventListener("scroll",i,!0)});const e=d(()=>r.value!==""?{boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.04)",backdropFilter:"blur(34px)"}:{}),a=d(()=>{const c="flex h-16 px-4 xl:px-8 items-center z-9 fixed w-full top-0";return r.value!==""?`${c} ${r.value}`:c});return{styles:e,headerClass:a,toComerDetail:()=>{t.profile?l.push({path:"/builder",query:{id:t.profile.id}}):console.warn("missing user profile")},goHome:()=>l.replace("/")}},render(){return o("div",{class:this.headerClass,style:this.styles},[o("div",{class:"cursor-pointer mr-4",onClick:this.goHome},[o(y,{height:40,theme:"colorful"},null)]),o("div",{class:"flex-1"},null),o(x,{type:"primary",size:"small",class:"h-8 w-22",onClick:this.toComerDetail},{default:()=>[o(C,null,null),u(" Connect")]})])}}),V=z,q="_profilePage_19r4m_1",B="_dlList_19r4m_21",N="_showList_19r4m_44",p={profilePage:q,dlList:B,showList:N};function U(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!P(t)}const M=f({props:{profile:{type:Object,required:!0}},setup(t){function l(i){const e=(t.profile.socials||[]).find(a=>a.social_tool.name===i);return(e==null?void 0:e.value)||""}const r=d(()=>{const i={};return S.forEach(e=>{i[e.name]=l(e.label)}),i});return{profile:t.profile,socialsObj:r}},render(){var r,i,e,a;const t=(((r=this.profile)==null?void 0:r.skills)||[]).map(s=>s.tag.name),l=((i=this.profile.info)==null?void 0:i.bio)||t.length||this.profile.languages||this.profile.educations||this.profile.socials;return o("div",{class:"bg-white border-color-border border-1 pb-4 relative"},[o("div",{class:"bg-color-hover h-45"},[o("img",{src:this.profile.banner||k,alt:"bg",class:"h-full object-cover w-full"},null)]),o(v,{class:"rounded-1/2 h-20 top-155px left-7 w-20 absolute xl:left-11",src:this.profile.avatar},null),o("div",{class:"mt-18 mb-6 px-7 xl:px-12"},[o("p",{class:"text-color1 u-h3"},[this.profile.name]),(this.profile.location||this.profile.time_zone)&&o("p",{class:"mt-1 text-color3 u-h6"},[this.profile.location,u(" "),o("strong",{class:"px-1"},[u("\xB7")]),u(" "),this.profile.time_zone])]),l?o("div",{class:"border-color-border border-t-1 py-6 px-7 xl:px-12"},[((e=this.profile.info)==null?void 0:e.bio)&&o("div",{class:"font-weight-400 mb-6 text-[16px] text-color1 leading-[24px]"},[(a=this.profile.info)==null?void 0:a.bio]),t.length&&o("div",{class:"flex flex-wrap mb-6 gap-2 "},[t.map(s=>o(w,{class:"text-color2"},U(s)?s:{default:()=>[s]}))]),this.profile.languages&&o("dl",{class:`u-h7 mb-4 ${p.dlList}`},[o("dt",{class:"text-color1 "},[u("Language")]),o("dd",null,[this.profile.languages.map(s=>{var n;return(n=s.language)==null?void 0:n.name}).join("\u3001")])]),this.profile.educations&&o("dl",{class:`u-h7 mb-10 ${p.dlList}`},[o("dt",{class:"text-color1 u-h7"},[u("Education")]),o("dd",null,[this.profile.educations.map(s=>s.school).join("\u3001")])]),this.profile.socials&&o("div",{class:"flex mb-4 gap-8"},[this.profile.socials.map(s=>{var m;const n=((m=s==null?void 0:s.social_tool)==null?void 0:m.name)||"",c=this.socialsObj[n.toLowerCase()];return o(H,{icon:n,disable:!c,address:c,class:"h-6 text-[#b3b3b3] w-6"},null)})])]):null])}}),io=f({name:"Profile",setup(){const t=g(),l=h({}),r=D();return console.log(t.params.name),t.params.name?((()=>{_["Comer@get-comer-by-custom-domain"]({custom_domain:t.params.name}).then(e=>{e&&e.data&&(l.value=O(e.data.id),r.getData(e.data.id))})})(),{instance:l,moduleCount:r}):null},render(){const t=[{icon:T,title:"Project",count:this.moduleCount.postedCount.startup_count},{icon:$,title:"Bounty",count:this.moduleCount.postedCount.bounty_count},{icon:E,title:"Launchpad",count:this.moduleCount.postedCount.crowdfunding_count}];return o("div",null,[o(V,{profile:this.instance.profile},null),o("div",{class:`py-18 xl:py-36 ${p.profilePage}`},[o("div",{class:"m-auto max-w-165"},[this.instance.profile&&o(M,{profile:this.instance.profile},null),o("ul",{class:p.showList},[t.map(l=>o("li",{class:"flex items-center"},[o("img",{src:l.icon,alt:"icon",class:"h-9 w-9"},null),o("div",{class:"flex-1 ml-4 text-color1 u-h3"},[l.title]),o("span",{class:"text-color2 u-h4"},[l.count])]))])])])])}});export{io as default};
