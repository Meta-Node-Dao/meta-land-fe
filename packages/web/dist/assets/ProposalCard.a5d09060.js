import{H as f}from"./index.ac02f68f.js";import{r as D}from"./Confirm.fc9e96f5.js";import{l as x,H as m,cs as a,bm as t,j as u}from"./bundle.f4813fa2.js";import{e as v}from"./vue.5bd64dc7.js";import{S as b}from"./index.50b02406.js";const N=x({name:"ProposalCard",props:{proposalData:{type:Object,required:!0},noBorder:{type:Boolean,default:()=>!1},noDescription:{type:Boolean,default:()=>!1}},setup(e){const s=v(),d=m(()=>{var r,o,l;if(a.utc().isBefore(a(+((r=e.proposalData)==null?void 0:r.start_time)).utc())){const[n,p,c]=a.duration(a((o=e.proposalData)==null?void 0:o.start_time).utc().diff(a.utc())).format("DD-HH-mm").split("-"),i="Starts in ";if(Number(n))return i+n+" days";if(Number(p))return i+p+" hours";if(Number(c))return i+c+" minutes"}else if(a().isAfter(+((l=e.proposalData)==null?void 0:l.end_time)))return t("div",{class:"flex items-center"},[t(D,{class:"h-4 text-primary mr-2 w-4"},null)," ",e.proposalData.max_votes_choice_item,u(" -- "),e.proposalData.max_votes]);return null}),h=m(()=>{var r,o;return a().isAfter(+((r=e.proposalData)==null?void 0:r.end_time))?"Ended":a.utc().isBefore(a(+((o=e.proposalData)==null?void 0:o.start_time)).utc())?"Upcoming":"Active"});return{timeTip:d,toComerDetail:r=>{var o;r.stopPropagation(),s.push({path:"/builder",query:{id:(o=e.proposalData)==null?void 0:o.comer_id}})},handleCard:()=>{var r;s.push(`/governance/${(r=e.proposalData)==null?void 0:r.id}`)},timeLabel:h}},render(){var e,s;return t("div",{class:`bg-white rounded-sm cursor-pointer flex ${this.noDescription?"":"mb-5"} py-4 px-4 ${this.noBorder?"":"border-1"} hover:bg-color-hover`,onClick:()=>this.handleCard()},[t(b,{src:this.proposalData.startup.logo||"",class:"h-15 mr-4 w-15"},null),t("div",{class:"flex-1 overflow-hidden"},[t("div",{class:"flex items-center"},[t("div",{class:"flex-1 text-color3 u-h7"},[((e=this.proposalData.startup)==null?void 0:e.name)||"",t("span",{class:"px-2"},[u("by")]),t("span",{class:"text-color2 hover:text-primary",onClick:this.toComerDetail},[((s=this.proposalData.comer)==null?void 0:s.name)||""])]),t(f,null,{default:()=>[this.timeLabel]})]),t("div",{class:"mt-2 mb-1 max-w-9/10 text-color1 truncate u-h4"},[this.proposalData.title]),!this.noDescription&&this.proposalData.description&&t("div",{class:"text-color2 u-h6 line-clamp-2",innerHTML:this.proposalData.description},null),this.timeTip&&t("div",{class:"mt-2 text-color3 u-h7"},[this.timeTip])])])}});export{N as P};
