import{u as re,e as ue}from"./vue.5bd64dc7.js";import{_ as z,q as j,v as x,S as B,z as $,F as M,a as g,M as E,m as fe,u as ce,X as me,Y as pe,p as ae,U as ge,P as ve,k as we,J as ye,H as X,Z as be}from"./index.ac02f68f.js";import{bD as Ce,bf as xe,bg as _e,bm as e,j as w,l as y,r as d,av as _,w as S,$ as Me,F as v,H as C,W as se,J as de,cs as ke,k as Se}from"./bundle.f4813fa2.js";import{M as Le}from"./shadow.08583288.js";import{E as T}from"./index.151fd4e7.js";import{B as Ie}from"./index.856e9ec9.js";import{r as V,a as ze,b as Be,c as De,d as K}from"./Upload.baaf1d2f.js";import{u as N,r as Ae,B as W,L as J,C as je,S as $e,a as Te}from"./index.8487326e.js";import{d as le,u as qe,a as Pe}from"./useProfile.7801581e.js";import{U as Re}from"./utc.f67cb260.js";import{S as Y}from"./index.50b02406.js";import{g as Ne,c as Ee}from"./util.25bcdacb.js";import{P as Fe}from"./ProposalCard.a5d09060.js";import{u as Oe}from"./useTags.f9c969ef.js";import{S as ne}from"./index.9ccd904a.js";import{v as Ue,a as Ze,c as He}from"./valid.935dd966.js";import{r as Ye}from"./Setting.4e1b5c78.js";import{S as Ge}from"./ButtonGroup.19624d09.js";import"./ui.e26017cf.js";import"./tools.becc2b88.js";import"./ethers.043ad920.js";import"./wallet.eb251e2a.js";import"./inherits.303311a2.js";import"./ArrowDown.fce4ad7c.js";import"./ArrowUp.6fcf9bbd.js";import"./Empty.d0789566.js";import"./Stage.c11ca763.js";import"./bounty.b5687463.js";import"./index.b512b944.js";import"./etherscan.83df9912.js";import"./utils.293bb65e.js";import"./erc20.e9c36ea3.js";import"./numberFormat.980bf1e6.js";import"./utils.f10e23c9.js";import"./Create.fef5fe14.js";import"./Period.d7f0205f.js";import"./bountyFactory.4905ecc7.js";import"./MinusCircle.5e3a505f.js";import"./index.160e8328.js";import"./share.51f4a725.js";import"./Confirm.fc9e96f5.js";import"./Create.f5d1abad.js";import"./ipfs.b0370acf.js";import"./startup.3b3d8368.js";import"./startup.427454b6.js";import"./Github.2bf272eb.js";import"./Twitter.88072fb4.js";import"./useShare.dac42af0.js";const ie=[{label:"Beginner",value:1},{label:"Elementary",value:2},{label:"Intermediate",value:3},{label:"Advanced",value:4}],Ve={width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},We=_e("path",{d:"M10 24L20 34L40 14",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Je=[We];function Qe(t,a){return Ce(),xe("svg",Ve,Je)}function q(t,a){return e("div",{class:"flex mt-4 justify-end"},[e(z,{class:"mr-4 w-30",type:"default",onClick:t,size:"small"},{default:()=>[w("Cancel")]}),e(z,{class:"bg-primary1 w-30",type:"primary",onClick:a,size:"small"},{default:()=>[w("Update")]})])}const P=y({name:"editButton",emits:["handleClick"],render(){return e("span",{onClick:()=>{this.$emit("handleClick")},class:"cursor-pointer text-color3 hover:text-primary"},[typeof this.$slots.default=="function"?this.$slots.default():"Edit"])}}),Xe=y({props:{content:{type:String,default:()=>"",required:!0},viewMode:{type:Boolean,default:()=>!1}},emits:["Done"],setup(t,a){const i=d(!1),l=d(!1),o=d(),s=d(),n=_({bio:""});S(()=>t.content,()=>{n.bio=t.content,Me().then(()=>{o.value&&o.value.clientHeight>=164?s.value=!0:s.value=!1})},{immediate:!0});const u=d(!0),r=d();return{loading:i,editMode:l,pRef:o,showMoreBtn:s,fold:u,fields:[{t:"string",title:"BIO",name:"bio",type:"textarea",value:null,required:!0,placeholder:"Tell the world your story",maxlength:1e3,autosize:{minRows:5,maxRows:10}}],form:r,info:n}},render(){const t=j(this.fields),a=()=>{this.editMode=!this.editMode},i=()=>{this.fold=!this.fold},l=async()=>{this.info.bio.trim()!==""&&(this.loading=!0,await g["Comer@update-comer-info-bio"]({bio:this.info.bio}),this.$emit("Done"),a(),this.loading=!1)};return e(M,{show:this.loading},{default:()=>[this.viewMode&&!this.content?null:e(x,{title:"BIO",class:"mb-6"},{default:()=>[this.editMode?e("div",{class:"flex flex-col"},[e(B,{rules:t,model:this.info,ref:o=>this.form=o},{default:()=>[e($,{fields:this.fields,values:this.info},null)]}),q(a,l)]):e(v,null,[this.content?e(v,null,[e("div",{ref:o=>this.pRef=o,class:"transition-all ease-linear duration-1000 overflow-hidden relative",style:this.fold?{maxHeight:"164px"}:{height:"auto"}},[e("p",{innerHTML:this.content},null),this.fold&&this.showMoreBtn&&e("div",{class:"h-16 right-0 bottom-0 left-0 absolute",style:{background:"linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)",transform:"rotate(-180deg)"}},null)]),this.showMoreBtn&&e("div",{class:"flex mt-5 justify-center"},[e(Le,{onMore:i,fold:this.fold},null)])]):e("p",{class:"font-[400] text-14px text-color3"},[w("Add your Bio ")])])],"header-extra":()=>{if(!this.editMode&&!this.viewMode)return e(P,{onHandleClick:a},null)}})]})}}),F=y({name:"ListSwitcher",props:{moduleCount:{type:Object,required:!0},moduleName:{type:String,required:!0}},emits:["createdByMe"],setup(t,a){const i=C(()=>t.moduleName==="Project"&&t.moduleCount.postedCount.startup_count===0||t.moduleName==="Bounty"&&t.moduleCount.postedCount.bounty_count===0||t.moduleName==="Launchpad"&&t.moduleCount.postedCount.crowdfunding_count===0||t.moduleName==="Proposal"&&t.moduleCount.postedCount.governance_count===0||t.moduleName==="SaleLaunchpad"&&t.moduleCount.postedCount.sale_launchpad_count===0),l=d(0);S(()=>i.value,()=>{l.value=i.value?1:0,a.emit("createdByMe",l.value===0)},{immediate:!0});const o=d(["Created","Participated"]);return{currentIndex:l,list:o,handleClick:n=>{l.value!==n&&(l.value=n,a.emit("createdByMe",l.value===0))}}},render(){return e("div",{class:"flex gap-4"},[this.list.map((t,a)=>e("span",{class:`cursor-pointer u-h6 hover:text-color1 ${this.currentIndex===a?"text-color1":"text-color3"}`,onClick:()=>this.handleClick(a)},[t]))])}}),Ke=y({props:{moduleCount:{type:Object},comerId:{type:Number,required:!0}},setup(t){const a=d(!0),i=_({size:4,page:1}),l=d(0),o=d(!1),s=d([]),n=async()=>{var m;const{error:r,data:h}=await g["Bounty@get-bounties"]({...i,founder_comer_id:a.value?t.comerId:void 0,applicant_comer_id:a.value?void 0:t.comerId});o.value=!1,r||(s.value.push(...(m=h.list)!=null?m:[]),l.value=h.total)};return{pagination:i,totalCount:l,loading:o,bounties:s,getBounties:n,toggleList:r=>{a.value=r,s.value=[],i.page=1,o.value=!0,n()}}},render(){const t=async a=>{this.loading=!0,this.pagination.page=a,await this.getBounties()};return e(M,{show:this.loading},{default:()=>[e(x,{title:"Bounty",class:"mb-6"},{default:()=>[e(E,{class:"max-h-105 <lg:-mx-5",triggered:this.loading,page:this.pagination.page,pageSize:this.pagination.size,total:this.totalCount,onLoadMore:t},{default:()=>[Array.isArray(this.bounties)&&this.bounties.length>0?this.bounties.map(a=>e(Ie,{info:a,key:a.id,miniCard:!0},null)):e(T,null,null)]})],"header-extra":()=>e(F,{moduleName:"Bounty",moduleCount:this.moduleCount,onCreatedByMe:this.toggleList},null)})]})}});const et={src:{type:String,required:!0},alt:{type:String}},tt=y({name:"ULazyImage",props:et,setup(t,a){const i=d(!1),l=d(!1);return S(()=>t.src,()=>{l.value=!1,i.value=!1;const o=new Image;o.onload=()=>{i.value=!0},o.onerror=()=>{l.value=!0},o.src=t.src},{immediate:!0}),()=>i.value?e("img",se({class:"u-lazy-image-img",src:t.src,alt:t.alt},{loading:"lazy"}),null):e("span",se({class:["u-lazy-image-placeholder",{failed:l.value}]},a.attrs),[l.value?"":e("svg",{class:"u-lazy-image-waves",viewBox:"0 24 150 28",preserveAspectRatio:"none","shape-rendering":"auto"},[e("defs",null,[e("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"},null)]),e("g",{class:"parallax"},[e("use",{"xlink:href":"#gentle-wave",x:"48",y:"0",fill:"rgba(153,153,153,0.7)"},null),e("use",{"xlink:href":"#gentle-wave",x:"48",y:"3",fill:"rgba(153,153,153,0.5)"},null),e("use",{"xlink:href":"#gentle-wave",x:"48",y:"5",fill:"rgba(153,153,153,0.3)"},null),e("use",{"xlink:href":"#gentle-wave",x:"48",y:"7",fill:"#999"},null)])])])}}),ot=[{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/male1.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/male2.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/male3.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/male4.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/male5.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/male6.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/female1.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/female2.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/female3.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/female4.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/female5.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/female6.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/female7.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/users/female9.svg"},{src:"https://comunion-avatars.s3.ap-northeast-1.amazonaws.com/avatar1.svg"}],at=y({name:"AvatarSelect",props:{show:{type:Boolean,default:!1},avatar:{type:String,default:""}},setup(t,a){const i=d(t.avatar),l=()=>{a.emit("update:show",!1)},o=()=>{a.emit("update:avatar",i.value),l()},s=n=>{i.value=n};return()=>e(v,null,[e("section",null,[e(fe,{show:t.show,"onUpdate:show":n=>t.show=n,"mask-closable":!1},{default:()=>[e(x,{style:{width:"515px","--n-title-text-color":"#000"},size:"huge",closable:!0,title:"Choose your avatar",onClose:l},{default:()=>[e("div",{class:"flex flex-wrap py-4 gap-4"},[ot.map(n=>e("div",{key:n.src,class:"h-20 w-20 relative",onClick:()=>s(n.src)},[e(v,null,[e("div",{class:`h-full w-full rounded-1/2 bg-color-hover opacity-50 absolute cursor-pointer flex items-center justify-center ${i.value===n.src?"z-1":"-z-1"}`},[e(Qe,{class:""},null)]),e(tt,{src:n.src,class:"rounded cursor-pointer h-full w-full justify-between"},null)])]))]),e("div",{class:"mt-8 text-right"},[e(z,{type:"primary",ghost:!0,class:"mr-4 w-41",onClick:l},{default:()=>[w("Cancel")]}),e(z,{class:"mr-4 w-41",onClick:o,type:"primary"},{default:()=>[w("Submit")]})])]})]})])])}}),st=at;const lt=y({props:{comerId:{type:Number,required:!0},avatar:{type:String,default:()=>"",required:!0},name:{type:String,default:()=>"",required:!0},location:{type:String,default:()=>"",required:!0},timeZone:{type:String,default:()=>null,required:!0},cover:{type:String,requried:!0},custom_domain:{type:String,requried:!0},viewMode:{type:Boolean,default:()=>!1},comerAccounts:{type:Object},isOwner:{type:Boolean,default:!1}},emits:["Done"],setup(t){const a=ce(),i=d(!1),l=C(()=>{const b=[];return t.location&&b.push(t.location),t.timeZone&&b.push(t.timeZone),`${b.join(", ")}`}),o=d(!1),s=d(!1),n=d(),u=d(),r=[{t:"string",title:"Name",name:"name",placeholder:"Input your name",maxlength:24,rules:[{required:!0,message:"Name can not be blank",trigger:"blur"}],value:null},{t:"string",title:"Location",name:"location",maxlength:100,placeholder:"Add your location",value:null},{t:"select",title:"Time Zone",name:"timeZone",placeholder:"Select your time zone",options:Re.map(b=>({label:b.label,value:b.label}))}],h=_({avatar:t.avatar,name:t.name,location:t.location,timeZone:t.timeZone?t.timeZone:null,cover:t.cover,custom_domain:t.custom_domain});de(()=>{h.avatar=t.avatar,h.name=t.name,h.location=t.location,h.timeZone=t.timeZone?t.timeZone:null,h.cover=t.cover});const{onUpload:m}=me(),f=async({file:b,onProgress:D,onFinish:A,onError:Z})=>{b.file&&m(b.file,L=>{D({percent:L})}).then(L=>{console.log(L),h.cover=L,A()}).catch(L=>{Z()})},c=d(!1),p=re(),k=N(t.comerId),I=async(b=!1)=>{if(b||(c.value?await k.unfollow():await k.follow()),t.viewMode&&a.token){const{error:D,data:A}=await k.followByMe();D||(c.value=A.is_connected)}};I(!0);const O=C(()=>{var b;return!p.query.id||String(p.query.id)===String((b=a.profile)==null?void 0:b.id)}),U=C(()=>t.isOwner);return{loading:i,subTitle:l,editMode:o,showAvatarModal:s,fields:r,info:h,form:n,formDomain:u,customRequest:f,toggleFollow:I,follow:c,self:O,userStore:a,isOwner:U}},render(){const t=()=>{this.editMode=!this.editMode},a=()=>{this.showAvatarModal=!0},i=()=>{var s;(s=this.form)==null||s.validate(async n=>{var u;n||(u=this.formDomain)==null||u.validate(async r=>{r||(this.loading=!0,await g["Comer@update-comer-info"]({name:this.info.name,banner:this.info.cover,avatar:this.info.avatar,time_zone:this.info.timeZone?this.info.timeZone:"",location:this.info.location}),await g["Comer@set-user-custom-domain"]({custom_domain:this.info.custom_domain}),this.$emit("Done"),t(),this.loading=!1,this.userStore.mergeProfile({avatar:this.info.avatar}))})})},l=j(this.fields),o={custom_domain:[{required:!0,message:"Domain name cannot be blank.",trigger:"change"},{validator(s,n){return!!n&&!!n.trim()&&!!n.trim().match(/^[a-zA-Z_0-9]+$/)},message:"Your username can only contain alphanumeric characters and underscores.",trigger:"change"},{validator(s,n){return!!n&&!!n.trim()&&n.trim().length>2},message:"Your username must be at least 3 characters.",trigger:"change"},{validator(s,n){return new Promise((u,r)=>!n||!n.trim()?r("Domain name cannot be blank."):g["Comer@get-user-custom-domain-is-existence"]({custom_domain:n}).then(h=>{h&&!h.is_exist?u(void 0):r("This username is already taken")}).catch(()=>{u(void 0)}))},trigger:"change"}]};return e(M,{show:this.loading},{default:()=>[e("div",{class:"bg-white border border-color-border rounded-sm mb-6 relative overflow-hidden"},[this.editMode?e(v,null,[e(st,{show:this.showAvatarModal,"onUpdate:show":s=>this.showAvatarModal=s,avatar:this.info.avatar,"onUpdate:avatar":s=>this.info.avatar=s},null),e(pe,{class:"rect-upload",customRequest:this.customRequest,accept:"image/png, image/jpeg, image/bmp, image/psd, image/svg, image/tiff"},{default:()=>[e("div",{class:"flex h-45 w-full relative"},[e("div",{class:"bg-[rgba(0,0,0,0.5)] top-0 right-0 bottom-0 left-0 absolute"},null),e("img",{src:this.info.cover||le,alt:"bg",class:"object-fill w-full"},null),e(V,{class:"h-4 -mt-2 mr-3 text-white -ml-2 top-1/2 left-1/2 w-4 absolute"},null)])]}),e("div",{class:"rounded-1/2 h-20 -ml-10 top-155px left-1/2 w-20 absolute overflow-hidden",onClick:a},[e(ze,{class:"h-6 -mt-3 text-white -ml-3 top-1/2 left-1/2 w-6 z-1 absolute"},null),e("div",{class:"bg-[rgba(0,0,0,0.5)] top-0 right-0 bottom-0 left-0 absolute"},null),e(ae,{class:"rounded-1/2 h-20 w-20",src:this.info.avatar},null)]),e("div",{class:"mt-79px p-6"},[e(B,{rules:l,model:this.info,ref:s=>this.form=s},{default:()=>[e($,{fields:this.fields,values:this.info},null)]}),e(B,{rules:o,model:this.info,ref:s=>this.formDomain=s},{default:()=>[e(ge,{path:"custom_domain",first:!0,class:"u-form-factory_item"},{default:()=>[e(ve,{value:this.info.custom_domain,"onUpdate:value":s=>this.info.custom_domain=s,maxlength:20},{prefix:()=>e("div",{class:"border-color-border border-r-1 mr-1 px-3 !bg-[#F5F6FA] !-ml-3 !text-color3"},["gorollux.com/profile/"])})],label:()=>e("div",{class:"flex n-form-item-label !items-center"},[e("div",null,[w("Domain name")]),e(we,{trigger:"hover",placement:"top"},{trigger:()=>e(Be,{class:"cursor-pointer h-4 ml-2 text-color3 w-4"},null),default:()=>e("div",{class:"w-80"},[w("This is the link you'll share with everyone. Usually,it's the same as your project's twitter username, or something similar.")])})])})]}),q(t,i)])]):e(v,null,[e("div",{class:"h-45"},[e("img",{src:this.info.cover||le,alt:"bg",class:"h-full object-cover w-full"},null)]),e(ae,{class:"rounded-1/2 h-20 top-155px left-6 w-20 absolute",src:this.avatar},null),e("div",{class:"flex mt-5 w-full pr-6 justify-end"},[this.viewMode?e(v,null,[!this.self||!this.isOwner?e(v,null,[this.follow?e(z,{secondary:!0,type:"tertiary",size:"small",onClick:()=>this.toggleFollow()},{default:()=>[e(Ae,{class:"mr-2"},null),w("Remove")]}):e(z,{type:"primary",size:"small",onClick:()=>this.toggleFollow()},{default:()=>[e(De,{class:"h-4 mr-2 w-4"},null),w("Connect")]})]):e(z,{class:"mr-6 w-40 invisible",size:"small"},{default:()=>[w("Connect")]})]):e(P,{onHandleClick:t},null)]),e("div",{class:"flex flex-col mt-8 mb-6 px-6"},[e("p",{class:"text-color1 u-h3"},[this.name]),e("p",{class:"mt-2 text-color3 u-h6"},[this.subTitle])])])])]})}});function nt(t){const a=d([]),i=d(0),l=d(1),o=5;return{list:a,total:i,reset:()=>{i.value=0,a.value=[]},getConnector:async()=>{g["Comer@get-comer-be-connect-comers-by-comer-id"]({page:l.value,size:o,comer_id:String(t)}).then(h=>{const{error:m,data:f}=h;m||(f.list?a.value?a.value.push(...f.list):a.value=f.list||[]:a.value=[]),i.value=(f==null?void 0:f.total)||0})},connect:async(h,m)=>{const f=N(h),{error:c}=await f.follow();c||m()},unconnect:async(h,m)=>{const f=N(h),{error:c}=await f.unfollow();c||m()},page:l}}function it(t){const a=d([]),i=d(0),l=d(1),o=5;return{list:a,total:i,reset:()=>{i.value=0,a.value=[]},fetchData:async()=>{t?g["Comer@get-comer-connect-comers-by-comer-id"]({page:l.value,size:o,comer_id:String(t)}).then(h=>{const{error:m,data:f}=h;m||(f.list?a.value?a.value.push(...f.list):a.value=f.list||[]:a.value=[]),i.value=(f==null?void 0:f.total)||0}):console.warn("useFollowComer: Missing parameter comet_ id")},connect:async(h,m)=>{const f=N(h),{error:c}=await f.follow();c||m()},unconnect:async(h,m)=>{const f=N(h),{error:c}=await f.unfollow();c||m()},page:l}}function rt(t){const a=d([]),i=d(0),l=d(1),o=5;return{list:a,total:i,page:l,fetchData:async()=>{const{error:h,data:m}=await g["Comer@get-startup-connect-by-comer-id"]({size:o,page:l.value,comer_id:String(t)});h||(m.list?a.value?a.value.push(...m.list):a.value=m.list||[]:a.value=[],i.value=m.total)},connect:async(h,m)=>{const{error:f}=await g["Startup@connected-startup"]({startup_id:h});f||m()},unconnect:async(h,m)=>{const{error:f}=await g["Startup@unconnect-startup"]({startup_id:h});f||m()},reset:()=>{a.value=[],i.value=0}}}function ut(t){var o,s,n;const a=u=>u%1e4===u?u:`${(u/1e4).toFixed(1)}w`,i=_({startupCnt:((o=t==null?void 0:t.connected_total)==null?void 0:o.connect_startup_total)||0,comerCnt:((s=t==null?void 0:t.connected_total)==null?void 0:s.connect_comer_total)||0,followerCnt:((n=t==null?void 0:t.connected_total)==null?void 0:n.be_connect_comer_total)||0});return C(()=>[{id:"0",title:"Projects",totalRows:a(i.startupCnt)},{id:"1",title:"Comer",totalRows:a(i.comerCnt)},{id:"2",title:"Connect",totalRows:a(i.followerCnt)}])}const ct=y({name:"ComerConnection",props:{viewMode:{type:Boolean,default:()=>!1},profile:{type:Object,require:!0}},setup(t){const a=ut(t.profile),i=rt(t.profile.id),l=nt(t.profile.id),o=it(t.profile.id),s=d("0"),n=(u,r=!1)=>{u==="0"?(r&&i.reset(),i.fetchData()):u==="1"?(r&&o.reset(),o.fetchData()):u==="2"&&(r&&l.reset(),l.getConnector())};return S(()=>s.value,u=>u&&n(u,!0),{immediate:!0}),S(()=>a.value,u=>{if(u[0].totalRows===0){const r=u.findIndex(h=>h.totalRows>0);r!==-1&&(s.value=String(r))}},{immediate:!0}),{followedStartups:i,followComer:o,connector:l,tabsInstance:a,currentTabId:s}},render(){const t=()=>{this.currentTabId==="0"?(this.followedStartups.page.value+=1,this.followedStartups.fetchData()):this.currentTabId==="1"?(this.followComer.page.value+=1,this.followComer.fetchData()):this.currentTabId==="2"&&(this.connector.page.value+=1,this.connector.getConnector())},a=o=>{this.currentTabId==="0"?this.followedStartups.connect(o.id,o.cb):this.currentTabId==="1"?this.followComer.connect(o.id,o.cb):this.currentTabId==="2"&&this.connector.connect(o.id,o.cb)},i=o=>{this.currentTabId==="0"?this.followedStartups.unconnect(o.id,o.cb):this.currentTabId==="1"?this.followComer.unconnect(o.id,o.cb):this.currentTabId==="2"&&this.connector.unconnect(o.id,o.cb)},l=[{count:this.followedStartups.list.value.length,content:e(v,null,[this.followedStartups.list.value.length>0&&e(v,null,[this.followedStartups.list.value.map(o=>e(W,{class:"-mx-4",item:o,key:o.id,onConnect:a,onUnconnect:i,keyMap:{follow:"is_connected"}},{avatar:()=>e("div",{class:"cursor-pointer flex h-12 w-12 items-center overflow-hidden",onClick:()=>this.$router.push(`/project/${o.id}`)},[e(Y,{src:(o==null?void 0:o.avatar)||(o==null?void 0:o.logo)||""},null)])}))]),this.followedStartups.total.value>5&&e("div",{class:"flex mt-5 justify-center"},[e(J,{onMore:t,end:this.followedStartups.list.value.length>=this.followedStartups.total.value},{text:()=>`More(${this.tabsInstance[0].totalRows})`})])])},{count:this.followComer.list.value.length,content:e(v,null,[this.followComer.list.value.length>0&&e(v,null,[this.followComer.list.value.map(o=>e(W,{class:"-mx-4",key:o.id,item:o,onConnect:a,onUnconnect:i,keyMap:{follow:"is_connected"}},{avatar:()=>e("div",{class:"cursor-pointer flex h-9 w-9 ",onClick:()=>this.$router.push({path:"/builder",query:{id:o.id}})},[e(Y,{src:(o==null?void 0:o.avatar)||(o==null?void 0:o.logo)||""},null)])}))]),this.followComer.total.value>5&&e("div",{class:"flex mt-5 justify-center"},[e(J,{onMore:t,end:this.followComer.list.value.length>=this.followComer.total.value},{text:()=>`More(${this.tabsInstance[1].totalRows})`})])])},{count:this.connector.list.value.length,content:e(v,null,[this.connector.list.value.length>0&&e(v,null,[this.connector.list.value.map(o=>e(W,{class:"-mx-4",key:o.id,item:o,onConnect:a,onUnconnect:i,keyMap:{follow:"is_connected"}},{avatar:()=>e("div",{class:"cursor-pointer flex h-9 w-9 items-center overflow-hidden",onClick:()=>this.$router.push({path:"/builder",query:{id:o.id}})},[e(Y,{src:(o==null?void 0:o.avatar)||(o==null?void 0:o.logo)||""},null)])}))]),this.connector.total.value>5&&e("div",{class:"flex mt-5 justify-center"},[e(J,{onMore:t,end:this.connector.list.value.length>=this.connector.total.value},{text:()=>`More(${this.tabsInstance[2].totalRows})`})])])}];return!this.viewMode||this.tabsInstance.filter(o=>o.totalRows>0).length>0?e(x,{title:"Connect",class:"mb-6"},{default:()=>[l[Number(this.currentTabId)]&&l[Number(this.currentTabId)].content],"header-extra":()=>e(ye,{options:this.tabsInstance.map(o=>({label:`${o.title}`,value:o.id})),placeholder:"Filter",class:"w-28",value:this.currentTabId,"onUpdate:value":o=>this.currentTabId=o,"consistent-menu-width":!1},null)}):null}}),dt=y({props:{moduleCount:{type:Object},viewMode:{type:Boolean,default:()=>!1},comerId:{type:Number,required:!0}},setup(t){const a=d(!0),i=_({size:4,page:1}),l=d(0),o=d(!1),s=d([]),n=async()=>{const r={page:i.page,size:i.size};a.value?r.founder_comer_id=t.comerId:r.participate_comer_id=t.comerId;const{error:h,data:m}=await g["Crowdfunding@get-crowdfunding"](r);if(o.value=!1,!h){const f=Array.isArray(m.list)?m.list.map(c=>({...c,kyc:c.kyc||"",contract_audit:c.contract_audit||"",buy_token_amount:c.buy_token_amount||0})):[];s.value.push(...f),l.value=m.total}};return{pagination:i,totalCount:l,loading:o,list:s,fetchData:n,toggleList:r=>{a.value=r,s.value=[],i.page=1,o.value=!0,n()}}},render(){const t=async a=>{this.loading=!0,this.pagination.page=a,await this.fetchData()};return e(M,{show:this.loading},{default:()=>[e(x,{title:"Fair Launchpad",class:"mb-6"},{default:()=>[e(E,{class:"max-h-90 <lg:-mx-5",triggered:this.loading,page:this.pagination.page,pageSize:this.pagination.size,total:this.totalCount,onLoadMore:t},{default:()=>[Array.isArray(this.list)&&this.list.length>0?this.list.map(a=>e(je,{info:a,key:a.crowdfundingId},null)):e(T,null,null)]})],"header-extra":()=>e(F,{moduleName:"Launchpad",moduleCount:this.moduleCount,onCreatedByMe:this.toggleList},null)})]})}}),ht="_hidden_166rd_5",G={"list-hover":"_list-hover_166rd_1",hidden:ht},ft=y({props:{viewMode:{type:Boolean,default:()=>!1},list:{type:Array,default:()=>[]}},emits:["Done"],setup(t){const a=d(!1),i=d(!1),l=_({id:0,school:"",major:"",graduated_at:118313526e4}),o=d(),s=[{t:"string",title:"College/University Name",name:"school",required:!0,placeholder:"Your College/University Name",maxlength:100,value:null},{t:"string",title:"Major",name:"major",required:!0,placeholder:"Major",maxlength:100,value:null},{t:"date",title:"Year of graduation",name:"graduated_at",placeholder:"Select Year of graduation",required:!0,type:"year",class:"w-full",actions:[]}],n=d([]);return S(()=>t.list,u=>{n.value=u||[]},{immediate:!0,deep:!0}),{loading:a,editMode:i,info:l,form:o,fields:s,educations:n}},render(){const t=j(this.fields);let a=!0;const i=(s=!1)=>{a=s,String(s)==="true"&&(this.info.id=0,this.info.major="",this.info.school="",this.info.graduated_at=118313526e4),this.editMode=!this.editMode},l=()=>{var s;(s=this.form)==null||s.validate(async n=>{n||(this.loading=!0,a?await g["Comer@bind-comer-educations"](this.info):await g["Comer@update-comer-education"]({...this.info,comer_education_id:this.info.id}),this.$emit("Done"),this.editMode=!1,this.loading=!1)})},o=async(s,n)=>{const u=this.educations.find(r=>r.id===n);if(!u)return console.warn("handleCurrentRecord error");s==="edit"?(this.info.id=u.id,this.info.school=u.school,this.info.major=u.major,this.info.graduated_at=u.graduated_at,i()):(this.loading=!0,await g["Comer@unbind-comer-educations"]({comer_education_id:u.id}),this.$emit("Done"),this.loading=!1)};return e(M,{show:this.loading},{default:()=>[this.viewMode&&this.educations.length===0?null:e(x,{title:"Education",class:"mb-6"},{default:()=>[this.editMode?e("div",null,[e(B,{rules:t,model:this.info,ref:s=>this.form=s},{default:()=>[e($,{fields:this.fields,values:this.info},null)]}),q(i,l)]):e("div",null,[this.educations.length===0?e("p",{class:"text-color3 u-h5"},[w("Add your Education")]):e(v,null,[this.educations.map(s=>e("div",{class:`-mx-3.5 px-3.5 cursor-pointer flex items-center h-17 rounded-sm ${G["list-hover"]}`},[e("div",{class:"flex-1 overflow-hidden"},[e("p",{class:" text-color1 u-h5"},[s.school]),e("div",{class:"flex mt-2 text-color3 items-center"},[e("p",{class:"u-tag"},[s.major,w(" Graduated")]),e("p",{class:"bg-color3 h-3 mx-2 w-1px"},null),e("p",{class:"u-tag"},[ke(Number(s.graduated_at)).format("YYYY")])])]),e("div",{class:`hidden mr-4 ${this.viewMode?"":G.hidden} cursor-pointer`},[e(V,{class:"h-4 text-primary mr-4.5 w-4",onClick:()=>o("edit",s.id)},null),e(K,{class:"h-4 text-primary w-4",onClick:()=>o("del",s.id)},null)])]))])])],"header-extra":()=>{if(!this.editMode&&!this.viewMode)return e(P,{onHandleClick:()=>i(!0)},{default:()=>[w("Add")]})}})]})}}),Q=d(!1),R=d(null),H=d(null);function he(){const t=async(l=!1)=>{if(l&&(R.value=null),R.value===null){const{error:o,data:s}=await g["Social@get-socials"]();o||(R.value=(s==null?void 0:s.list)||null)}},a=async(l=!1)=>{if(l&&(H.value=null),H.value===null){const{error:o,data:s}=await g["Language@get-languages"]();o||(H.value=(s==null?void 0:s.list)||null)}},i=async(l=!1)=>Q.value?null:(Q.value=!0,Promise.all([t(l),a(l)]).finally(()=>{Q.value=!1}));return i(),{socialList:C(()=>Ne(Array.isArray(R.value)?R.value.map(l=>({id:0,social_tool:{id:0,logo:"",name:l.name},social_tool_id:0,target_id:0,type:l.name,value:l.id})):[])),languageList:H,getSocialList:t,getLanguageList:a,initialize:i}}const mt=y({props:{list:{type:Array,default:()=>[]},viewMode:{type:Boolean,default:()=>!1}},emits:["Done"],setup(t){const a=d(!1),i=d(!1),l=_({language:null,level:null}),o=he(),s=C(()=>o.languageList.value),n=d(),u=d(t.list);S(()=>t.list,h=>{u.value=h||[]},{immediate:!0,deep:!0});const r=C(()=>{const h=[];return s.value&&s.value.forEach(m=>{const f={label:m.name,value:m.id};h.push(f)}),[{t:"select",title:"Language",name:"language",placeholder:"Select a language",required:!0,options:h,rules:[{type:"number"}]},{t:"select",title:"Level",name:"level",placeholder:"Select language level",required:!0,options:ie,rules:[{type:"number"}]}]});return{loading:a,editMode:i,info:l,form:n,fields:r,languages:u}},render(){const t=(o=!1)=>()=>{o&&(this.info.language=null,this.info.level=null),this.editMode=!this.editMode},a=j(this.fields),i=()=>{var o;(o=this.form)==null||o.validate(async s=>{var n;typeof s>"u"&&(this.loading=!0,(n=this.info)!=null&&n.blockId?(await g["Comer@update-comer-languages"]({comer_language_id:this.info.blockId,language_id:this.info.language,level:this.info.level}),this.info.blockId=0):await g["Comer@bind-comer-languages"]({language_id:this.info.language,level:this.info.level}),this.$emit("Done"),t()(),this.loading=!1)})},l=async(o,s)=>{if(o==="edit"){const n=this.languages.find(u=>u.id===s);n&&(this.info.language=n.language_id,this.info.level=n.level,this.info.blockId=n.id,t()());return}await g["Comer@unbind-comer-languages"]({comer_language_id:s}),this.$emit("Done"),this.loading=!1};return e(M,{show:this.loading},{default:()=>[this.viewMode&&this.languages.length===0?null:e(x,{title:"Language",class:"mb-6"},{default:()=>[this.editMode?e("div",{class:"flex flex-col "},[e(B,{rules:a,model:this.info,ref:o=>this.form=o},{default:()=>[e($,{fields:this.fields,values:this.info},null)]}),q(t(),i)]):e("div",{class:"flex flex-col "},[this.languages.length===0?e("p",{class:"text-color3 u-h5"},[w("Add your Languages")]):e(v,null,[this.languages.map(o=>{var s,n,u;return e("div",{class:`cursor-pointer -mx-3.5 px-3.5 flex items-center h-11 rounded-sm ${G["list-hover"]}`},[e("div",{class:"flex flex-1 items-center overflow-hidden"},[e("p",{title:(s=o.language)==null?void 0:s.name,class:"h-5 max-w-2/3 text-color1 truncate u-h6"},[(n=o.language)==null?void 0:n.name]),e("p",{class:"bg-color3 h-3 mx-2 w-1px"},null),e("p",{class:"text-color3 u-tag truncate"},[(u=ie.find(r=>r.value===o.level))==null?void 0:u.label])]),e("div",{class:`hidden mr-4 ${this.viewMode?"":G.hidden} cursor-pointer`},[e(V,{class:"h-4 text-primary mr-4.5 w-4",onClick:()=>l("edit",o.id)},null),e(K,{class:"h-4 text-primary w-4",onClick:()=>l("del",o.id)},null)])])})])])],"header-extra":()=>{if(!this.editMode&&!this.viewMode)return e(P,{onHandleClick:t(!0)},{default:()=>[w("Add")]})}})]})}}),pt=y({props:{moduleCount:{type:Object},comerId:{type:Number,required:!0}},setup(t){const a=d(!0),i=ue(),l=_({size:4,page:1,comer_id:t.comerId}),o=d(0),s=d(!1),n=d([]),u=async()=>{var p;const m={page:l.page,size:l.size};a.value?m.founder_comer_id=t.comerId:m.participate_comer_id=t.comerId;const{error:f,data:c}=await g["Proposal@get-proposal"](m);s.value=!1,!f&&(c==null?void 0:c.list)&&(n.value.push(...(p=c.list)!=null?p:[]),o.value=c.total)};return{pagination:l,totalCount:o,loading:s,proposalList:n,getProposalList:u,toProposalDetail:async m=>{i.push({path:`/governance/${m}`})},toggleList:m=>{a.value=m,n.value=[],l.page=1,s.value=!0,u()}}},render(){const t=async a=>{this.loading=!0,this.pagination.page=a,await this.getProposalList()};return e(M,{show:this.loading},{default:()=>[e(x,{title:"Proposal",class:"mb-6"},{default:()=>[e(E,{class:"max-h-90 <lg:-mx-5",triggered:this.loading,page:this.pagination.page,pageSize:this.pagination.size,total:this.totalCount,onLoadMore:t},{default:()=>[Array.isArray(this.proposalList)&&this.proposalList.length>0?this.proposalList.map(a=>e(Fe,{noBorder:!0,noDescription:!0,proposalData:a,key:a.id},null)):e(T,null,null)]})],"header-extra":()=>e(F,{moduleName:"Proposal",moduleCount:this.moduleCount,onCreatedByMe:this.toggleList},null)})]})}}),gt=y({props:{moduleCount:{type:Object},viewMode:{type:Boolean,default:()=>!1},comerId:{type:Number,required:!0}},setup(t){const a=d(!0),i=_({size:4,page:1}),l=d(0),o=d(!1),s=d([]),n=async()=>{const r={page:i.page,size:i.size};a.value?r.founder_comer_id=t.comerId:r.participate_comer_id=t.comerId;const{error:h,data:m}=await g["SaleLaunchpad@get-sale-launchpad"](r);if(o.value=!1,!h){const f=Array.isArray(m.list)?m.list.map(c=>({...c,kyc:c.kyc||"",contract_audit:c.contract_audit||"",buy_token_amount:c.invest_token_amount||0})):[];s.value.push(...f),l.value=m.total}};return{pagination:i,totalCount:l,loading:o,list:s,fetchData:n,toggleList:r=>{a.value=r,s.value=[],i.page=1,o.value=!0,n()}}},render(){const t=async a=>{this.loading=!0,this.pagination.page=a,await this.fetchData()};return e(M,{show:this.loading},{default:()=>[e(x,{title:"Sale Launchpad",class:"mb-6"},{default:()=>[e(E,{class:"max-h-90 <lg:-mx-5",triggered:this.loading,page:this.pagination.page,pageSize:this.pagination.size,total:this.totalCount,onLoadMore:t},{default:()=>[Array.isArray(this.list)&&this.list.length>0?this.list.map(a=>e($e,{info:a,key:a.crowdfundingId},null)):e(T,null,null)]})],"header-extra":()=>e(F,{moduleName:"SaleLaunchpad",moduleCount:this.moduleCount,onCreatedByMe:this.toggleList},null)})]})}});function vt(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Se(t)}const wt=y({props:{skills:{type:Array,required:!0},viewMode:{type:Boolean,default:()=>!1}},emits:["Done"],setup(t){const a=d(!1),i=d(!1),l=Oe("comer_skill"),o=C(()=>Array.isArray(l.TagList.value)?l.TagList.value.map(r=>({label:r.name,value:r.name})):[]),s=C(()=>[{t:"skillTags",title:"Skills",name:"skills",charLimit:20,required:!0,options:o.value}]),n=_({skills:[]});de(()=>{n.skills=t.skills||[]});const u=d();return{loading:a,editMode:i,info:n,fields:s,form:u}},render(){const t=(l=!1)=>()=>{l&&(this.info.skills=this.skills),this.editMode=!this.editMode},a=()=>{var l;(l=this.form)==null||l.validate(async o=>{typeof o>"u"&&(this.loading=!0,await g["Comer@bind-comer-skills"]({skills:this.info.skills}),t()(),this.$emit("Done"),this.loading=!1)})},i=j(this.fields);return e(M,{show:this.loading},{default:()=>[this.viewMode&&this.skills.length===0?null:e(x,{title:"Skill",class:"mb-6"},{default:()=>[this.editMode?e("div",{class:"flex flex-col"},[e(B,{rules:i,model:this.info,ref:l=>this.form=l},{default:()=>[e($,{fields:this.fields,values:this.info},null)]}),q(t(!0),a)]):e("div",{class:"flex flex-wrap gap-2"},[Array.isArray(this.info.skills)&&this.info.skills.length===0?e("p",{class:"text-color3 u-h5"},[w("Add your skill")]):e(v,null,[this.info.skills.map(l=>e(X,{class:"text-color1"},vt(l)?l:{default:()=>[l]}))])])],"header-extra":()=>{if(!this.editMode&&!this.viewMode)return e(P,{onHandleClick:t()},{default:()=>[w("Add")]})}})]})}});function yt(t,a,i,l,o){return o.map(s=>{var h,m;const n=((h=s==null?void 0:s.social_tool)==null?void 0:h.name)||"",u=((m=s==null?void 0:s.social_tool)==null?void 0:m.id)||0,r=t[n.toLowerCase()];return r?a?e(ne,{icon:n,disable:!r,address:r},null):e(be,{trigger:"click",placement:"top"},{trigger:()=>e(ne,{icon:n},null),default:()=>e("div",{class:"cursor-pointer flex m-3"},[e(V,{class:"h-3.5 text-primary mr-4.5 w-3.5",onClick:()=>i(u,r,s.id)},null),e(K,{class:"h-3.5 text-primary w-3.5",onClick:()=>l(s.id)},null)])}):null})}const bt=y({props:{viewMode:{type:Boolean,default:()=>!1},profile:{type:Object,required:!0}},setup(t){const a=d(!1),i=d(!1),l=_({type:null,value:void 0}),s=he().socialList;S(()=>l,()=>{if(l.type){const f=s.value.findIndex(c=>c.value===l.type);f!==-1&&(l.label=s.value[f].label)}},{deep:!0});const n=d(),u=C(()=>{const f=[{t:"select",title:"Social media",name:"type",required:!0,placeholder:"Select a social media",options:s.value||[],rules:[{type:"number"}]}];return l.label==="Email"?f.push({t:"string",title:"Address",name:"value",maxlength:1e3,value:null,rules:[{validator:(c,p)=>!!p,message:"Please enter at least one contact information",trigger:"blur"},{validator:(c,p)=>!p||!!Ue(p),message:"Please enter the correct Email",trigger:"blur"}],placeholder:"Input the Email"}):l.label==="Discord"?f.push({t:"string",title:"Address",name:"value",value:null,maxlength:1e3,rules:[{validator:(c,p)=>!!p,message:"Please enter at least one contact information",trigger:"blur"},{validator:(c,p)=>!p||!!Ze(p),message:"Please enter the correct address or username",trigger:"blur"}],placeholder:"Input the Discord link or username"}):["Website","Telegram","Youtube","Reddit","Docs"].includes(l.label||"")?f.push({t:"string",title:"Address",name:"value",value:null,maxlength:1e3,rules:[{validator:(c,p)=>!!p,message:"Please enter at least one contact information",trigger:"blur"},{validator:(c,p)=>!p||!!He(p),message:"Please enter the correct URL",trigger:"blur"}],placeholder:"Input the URL"}):f.push({t:"string",title:"Address",name:"value",required:!0,placeholder:"Input the Address",value:null}),f}),r=C(()=>{var c,p,k;const f=[];return t.profile&&((c=t.profile)==null?void 0:c.socials)&&((k=(p=t.profile)==null?void 0:p.socials)==null?void 0:k.length)>0&&t.profile.socials.forEach(I=>{f.push(I.value)}),f});function h(f){const c=(t.profile.socials||[]).find(p=>p.social_tool.name===f);return(c==null?void 0:c.value)||""}const m=C(()=>{const f={};return Ee.forEach(c=>{f[c.name]=h(c.label)}),f});return{loading:a,editMode:i,fields:u,form:n,info:l,socials:r,socialsObj:m,socialTypeList:s}},emits:["Done"],render(){const t=(s=!1)=>()=>{s&&(this.info.type=null,this.info.value=void 0),this.editMode=!this.editMode},a=()=>{var s;(s=this.form)==null||s.validate(async n=>{var u,r;typeof n>"u"&&this.info.type&&(this.loading=!0,this.info.blockId?(await g["Comer@update-comer-socials"]({soical_book_id:this.info.blockId,social_tool_id:Number(this.info.type),value:String((u=this.info)==null?void 0:u.value)||""}),this.info.blockId=0):await g["Comer@bind-comer-socials"]({social_tool_id:Number(this.info.type),value:String((r=this.info)==null?void 0:r.value)||""}),this.$emit("Done"),t()(),this.loading=!1)})},i=(s,n,u)=>{this.info.type=Number(s),this.info.value=n||void 0,this.info.blockId=u,t()()},l=async s=>{this.loading=!0,await g["Comer@unbind-comer-socials"]({soical_book_id:Number(s)}),this.$emit("Done"),this.loading=!1},o=j(this.fields);return e(M,{show:this.loading},{default:()=>[this.viewMode&&this.socials.length===0?null:e(x,{title:"Social",class:"mb-6"},{default:()=>{var s;return[this.editMode?e("div",{class:"flex flex-col flex-wrap"},[e(B,{rules:o,model:this.info,ref:n=>this.form=n},{default:()=>[e($,{fields:this.fields,values:this.info},null)]}),q(t(),a)]):e("div",{class:"cursor-pointer flex flex-wrap gap-4"},[this.socials.length===0?e("p",{class:"text-color3 u-h5"},[w("Add your social")]):e(v,null,[yt(this.socialsObj,this.viewMode,i,l,(s=this.profile)!=null&&s.socials?this.profile.socials:[])])])]},"header-extra":()=>{if(!this.editMode&&!this.viewMode)return e(P,{onHandleClick:t(!0)},{default:()=>[w("Add")]})}})]})}}),Ct=y({name:"StartupCard",props:{startup:{type:Object,required:!0},viewMode:{type:Boolean,default:()=>!1}},setup(t){const a=ce(),i=ue(),l=n=>{n.stopPropagation(),i.push({path:`/project/setting/${t.startup.id}`})},o=()=>{i.push({path:`/project/${t.startup.id}`})},s=C(()=>{var n,u;return((n=a.profile)==null?void 0:n.id)===((u=t.startup)==null?void 0:u.comer_id)});return()=>e("div",{class:"rounded-sm cursor-pointer flex py-4 px-4 items-center hover:bg-color-hover",onClick:o},[e(Y,{src:t.startup.logo,class:"rounded-sm h-15 mr-4 w-15"},null),e("div",{class:"flex-1"},[e("div",{class:"mb-2 text-color1 u-h4"},[t.startup.name]),Array.isArray(t.startup.tags)&&e("div",{class:"flex gap-2 items-center"},[t.startup.tags.map((n,u)=>u+1<4?e(X,{key:n.id},{default:()=>{var r;return[(r=n.tag)==null?void 0:r.name]}}):null),t.startup.tags.length-4>0?e(X,{class:"text-color1"},{default:()=>[w("+ "),t.startup.tags.length-4]}):null])]),s.value&&e("span",{class:"text-color3 u-h6 <lg:hidden hover:text-primary flex items-center",onClick:l},[e(Ye,{class:"cursor-pointer rounded-2 h-4 mr-1 w-4 align-middle"},null),w(" Settings")])])}}),xt=Ct,_t=y({props:{moduleCount:{type:Object},comerId:{type:Number,required:!0},viewMode:{type:Boolean,default:()=>!1}},setup(t){const a=d(!0),i=_({size:4,page:1,keyword:void 0,type:void 0}),l=d(0),o=d(!1),s=d([]),n=async()=>{const{error:r,data:h}=await g["Startup@get-startups"]({...i,comer_id:a.value?t.comerId:void 0,startup_team_comer_id:a.value?void 0:t.comerId});o.value=!1,r||(s.value.push(...h.list||[]),l.value=h.total)};return{pagination:i,totalCount:l,loading:o,startups:s,getStartups:n,toggleList:r=>{a.value=r,s.value=[],i.page=1,o.value=!0,n()}}},render(){const t=async a=>{this.loading=!0,this.pagination.page=a,await this.getStartups()};return e(M,{show:this.loading},{default:()=>[e(x,{title:"Projects",class:"mb-6 "},{default:()=>[e(E,{class:"max-h-90 <lg:-mx-5",triggered:this.loading,page:this.pagination.page,pageSize:this.pagination.size,total:this.totalCount,onLoadMore:t},{default:()=>[Array.isArray(this.startups)&&this.startups.length>0?this.startups.map(a=>e(xt,{startup:a,key:a.id,viewMode:this.viewMode},null)):e(T,null,null)]})],"header-extra":()=>e(F,{moduleName:"Project",moduleCount:this.moduleCount,onCreatedByMe:this.toggleList},null)})]})}}),yo=y({name:"Builder",setup(){const t=d(),a=d(),i=d(),l=d(),o=d(),s=d(),n=re(),u=qe(n.query.id),r=Pe(),h=C(()=>r.postedCount.bounty_count===0&&r.postedCount.crowdfunding_count===0&&r.postedCount.governance_count===0&&r.postedCount.startup_count===0&&r.participatedCount.bounty_count===0&&r.participatedCount.crowdfunding_count===0&&r.participatedCount.sale_launchpad_count===0&&r.participatedCount.governance_count===0&&r.participatedCount.startup_count===0),m=C(()=>["All","Projects","Bounty","FairLaunchpad","SaleLaunchpad","Proposal"].filter(c=>c==="Projects"&&(r.postedCount.startup_count!==0||r.participatedCount.startup_count!==0)||c==="Bounty"&&(r.postedCount.bounty_count!==0||r.participatedCount.bounty_count!==0)||c==="FairLaunchpad"&&(r.postedCount.crowdfunding_count!==0||r.participatedCount.crowdfunding_count!==0)||c==="SaleLaunchpad"&&(r.postedCount.sale_launchpad_count!==0||r.participatedCount.sale_launchpad_count!==0)||c==="Proposal"&&(r.postedCount.governance_count!==0||r.participatedCount.governance_count!==0))),f=()=>{var p,k,I,O,U,b,D,A,Z,L,ee,te,oe;const c=u.profile;(!((p=c.value)!=null&&p.name)||!((k=c.value)!=null&&k.location))&&(a.value.editMode=!0),(O=(I=c.value)==null?void 0:I.info)!=null&&O.bio||(t.value.editMode=!0),((U=c.value)==null?void 0:U.skills)&&((D=(b=c.value)==null?void 0:b.skills)==null?void 0:D.length)>0||(l.value.editMode=!0),((A=c.value)==null?void 0:A.languages)&&((L=(Z=c.value)==null?void 0:Z.languages)==null?void 0:L.length)>0||(o.value.editMode=!0),((ee=c.value)==null?void 0:ee.socials)&&((oe=(te=c.value)==null?void 0:te.socials)==null?void 0:oe.length)>0||(i.value.editMode=!0),s.value.editMode=!0};return S(()=>{var c;return(c=u.profile.value)==null?void 0:c.id},c=>{c&&r.getData(c)},{immediate:!0}),{profile:u.profile,systemTasks:m,viewMode:u.viewMode,refreshData:()=>u.getProfileData(!0),moduleCount:r,nothingToShow:h,editAll:f,BioRef:t,ComerRef:a,SocialRef:i,SkillRef:l,LanguageRef:o,EducationRef:s,loading:u.loading}},render(){var a,i,l,o,s,n,u,r,h,m,f,c;const t={Projects:e(_t,{moduleCount:this.moduleCount,comerId:(a=this.profile)==null?void 0:a.id,viewMode:this.viewMode},null),Bounty:e(Ke,{moduleCount:this.moduleCount,comerId:(i=this.profile)==null?void 0:i.id},null),FairLaunchpad:e(dt,{moduleCount:this.moduleCount,comerId:(l=this.profile)==null?void 0:l.id},null),SaleLaunchpad:e(gt,{moduleCount:this.moduleCount,comerId:(o=this.profile)==null?void 0:o.id},null),Proposal:e(pt,{moduleCount:this.moduleCount,comerId:(s=this.profile)==null?void 0:s.id},null)};return e("div",{class:"flex gap-6 relative <lg:pt-10 <lg:block"},[((n=this.profile)==null?void 0:n.name)&&e(Ge,{class:"top-0 right-[100%] absolute <lg:right-0",generate:{banner:this.profile.banner,logo:this.profile.avatar,name:this.profile.name,noShadow:!0},route:`https://gorollux.com/profile/${this.profile.custom_domain}`,title:this.profile.name+"--Builder | GoRollux",description:"Check out the Web3Profile on GoRollux, The lead building launchpad on Rollux and Syscoin",text:"Connect this #Web3Profile on #GoRollux Network:",copyText:`Connect this #Web3Profile on #GoRollux Network: https://gorollux.com/profile/${this.profile.custom_domain}`},null),e("div",{class:"w-86 overflow-hidden <lg:w-auto"},[this.profile&&e(v,null,[e(lt,{ref:p=>this.ComerRef=p,comerId:this.profile.id,avatar:this.profile.avatar,name:this.profile.name,location:this.profile.location,timeZone:this.profile.time_zone,cover:this.profile.banner,custom_domain:this.profile.custom_domain,viewMode:this.viewMode,onDone:this.refreshData,comerAccounts:this.profile.accounts},null),e(Xe,{ref:p=>this.BioRef=p,content:((u=this.profile)==null?void 0:u.info)&&((h=(r=this.profile)==null?void 0:r.info)==null?void 0:h.bio),viewMode:this.viewMode,onDone:this.refreshData},null),e(bt,{ref:p=>this.SocialRef=p,viewMode:this.viewMode,profile:this.profile,onDone:this.refreshData},null),e(wt,{ref:p=>this.SkillRef=p,skills:(((m=this.profile)==null?void 0:m.skills)||[]).map(p=>p.tag.name),viewMode:this.viewMode,onDone:this.refreshData},null),e(mt,{ref:p=>this.LanguageRef=p,viewMode:this.viewMode,list:(f=this.profile)==null?void 0:f.languages,onDone:this.refreshData},null),e(ft,{ref:p=>this.EducationRef=p,viewMode:this.viewMode,list:Array.isArray(this.profile.educations)?this.profile.educations.map(p=>({...p,graduated_at:Number(p.graduated_at)})):[],onDone:this.refreshData},null),e(ct,{viewMode:this.viewMode,profile:this.profile},null)])]),e("div",{class:"flex-1 overflow-hidden"},[this.profile&&e(v,null,[this.nothingToShow||!((c=this.profile)!=null&&c.id)?this.viewMode?e(T,null,null):e(Te,{onEditAll:this.editAll,profile:this.profile,noData:this.nothingToShow,taskList:[4,5],viewMode:this.viewMode},null):e(v,null,[this.systemTasks.map(p=>t[p]||null)])])])])}});export{yo as default};
