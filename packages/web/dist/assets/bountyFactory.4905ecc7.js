import{u as F,q as E,z as I,S as M,a as O,K as j,B as A,P,D as U,b as q}from"./index.ac02f68f.js";import{r as $,a as V}from"./MinusCircle.5e3a505f.js";import{bD as L,bf as N,bg as k,l as R,r as h,H as w,t as z,bm as a,j as c,cs as f,F as X,M as H}from"./bundle.f4813fa2.js";import{e as K}from"./vue.5bd64dc7.js";import{R as G}from"./index.160e8328.js";import{u as W}from"./useTags.f9c969ef.js";import{v,a as x,b as D}from"./valid.935dd966.js";import{g as J,w as u}from"./share.51f4a725.js";const Q={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-right"},Y=k("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1),Z=k("polyline",{points:"12 5 19 12 12 19"},null,-1),ee=[Y,Z];function te(r,i){return L(),N("svg",Q,ee)}const ae=9999,de=r=>a("div",{class:["flex justify-center items-center border rounded-r-sm bg-white w-30",{"text-color1":r,"text-color3":!r}]},[r||"Token"]),ye=R({name:"BountyBasicInfo",props:{bountyInfo:{type:Object,required:!0},chainInfo:{type:Object,required:!0,defualt:{onChain:!1}}},emits:["delContact","addContact","closeDrawer"],setup(r,i){const t=K(),p=h([{label:"Email",value:1},{label:"Discord",value:4},{label:"Telegram",value:5}]),d=h([]),l=F(),n=h(null),e=W("comer_skill"),s=w(()=>(e.TagList.value||[]).map(y=>({label:y.name,value:y.name}))),o=async()=>{var B;const y=(B=l.profile)==null?void 0:B.id;try{const{error:g,data:S}=await O["Startup@get-startups"]({admin_comer_id:y});g||(d.value=(S.list||[]).map(b=>({label:b.name,value:b.id,on_chain:b.on_chain})).sort(function(T,_){return T.label.localeCompare(_.label,"zh-Hans-CN",{sensitivity:"accent"})}))}catch(g){console.error("error",g)}},m=async()=>{t.push({path:`/project/setting/${r.bountyInfo.startup_id}`}),i.emit("closeDrawer")};return z(()=>{o()}),i.expose({bountyDetailForm:n}),{bountyDetailForm:n,contactOptions:p,comerSkillTagList:s,startupOptions:d,goSetting:m}},render(){const{contactOptions:r,$emit:i}=this,t=this.$props.bountyInfo,p=w(()=>[{t:"select",title:"Project",name:"startup_id",placeholder:"Select a project",rules:[{required:!0,message:"Project cannot be blank",type:"number",trigger:["blur"]},{validator:(l,n)=>{var e;return n?((e=this.startupOptions.find(s=>s.value===n))==null?void 0:e.on_chain)||!1:!0},renderMessage:()=>a("div",{class:"flex items-center"},[a("span",null,[c("The project cannot create a bounty without being on the blockchain,")]),a("span",{onClick:this.goSetting,class:"cursor-pointer flex ml-2 items-center !text-primary"},[a("span",null,[c("Go to setting")]),a(te,{class:"h-[16px] ml-2 w-[16px]"},null)])]),trigger:["blur"]}],options:this.startupOptions||[]},{t:"string",title:"Title",name:"title",placeholder:"Input bounty title",maxlength:200,rules:[{required:!0,message:"Title cannot be blank",type:"string",trigger:"blur"},{validator:(l,n)=>!n.length||n.length>11,message:"Bounty title must be 12 characters or more",trigger:"blur"}]},{t:"date",class:"w-full",type:"datetime",title:"Apply Cutoff Date",name:"expiresIn",placeholder:"Select date",actions:["clear","confirm"],rules:[{required:!0,message:"Apply Cutoff Date cannot be blank",type:"date",trigger:"blur"},{validator:(l,n)=>n?f(n)>f():!0,message:"Please set the reasonable cutoff date",trigger:"blur"}],isDateDisabled:l=>f(l)<f()},{t:"custom",title:"Contact",name:"contact",rules:[{required:!0,validator:(l,n)=>!!n.find(s=>!!s.value),message:"Please enter at least one contact information",trigger:"blur"},{validator:(l,n)=>{const e=n.filter(s=>!!s.value);return e.length?e.filter(s=>{var o;return s.type===1&&!v(s.value)||s.type===4&&!x(s.value)||s.type===5&&!D(s.value)?!1:!!((o=s.value)!=null&&o.trim())}).length===e.length:!0},message:"",trigger:"blur"}],render(l){const n=(e,s)=>{console.log(r,s);const o=r.findIndex(m=>m.value===s);return o===-1?e:Object.assign(e,{type:r[o].value,label:r[o].label})};return a("div",{class:"w-full"},[t.contact.map((e,s)=>a(X,null,[a("div",{class:`flex items-center justify-between ${s<t.contact.length-1?"mb-4":""}`},[a(j,null,{default:()=>[a(A,{options:r,value:e.type,"onUpdate:value":[o=>e.type=o,o=>n(e,o)],class:"w-50"},null),a(P,{class:"rounded-r-lg flex-1",value:e.value,"onUpdate:value":o=>e.value=o,status:e.type===1&&e.value&&!v(e.value)||e.type===4&&e.value&&!x(e.value)||e.type===5&&e.value&&!D(e.value)?"error":void 0,placeholder:`${e.type===1?"@email.com":e.type===4?"Username#1234":"@Username/Phone number"}`,onBlur:()=>{e.blur=!0},onFocus:()=>{e.blur=!1}},null)]}),a("div",{class:"flex ml-4 w-15 items-center"},[t.contact.length>1&&a("div",{class:"cursor-pointer flex items-center",onClick:()=>i("delContact",s)},[a($,{class:"h-5 mr-4 text-error w-5"},null)]),s+1===t.contact.length&&s<5&&a("div",{class:"cursor-pointer flex items-center",onClick:()=>i("addContact")},[a(V,{class:"h-5 w-5"},null)])])]),e.type===1&&e.blur&&e.value&&!v(e.value)&&a("div",{class:"text-error p-2"},[c("Please enter the correct email address")]),e.type===4&&e.blur&&e.value&&!x(e.value)&&a("div",{class:"text-error p-2"},[c("Invalid Discord contract")]),e.type===5&&e.blur&&e.value&&!D(e.value)&&a("div",{class:"text-error p-2"},[c("Invalid Telegram contract")])]))])}},{t:"website",title:"Discussion link",name:"discussionLink",maxlength:200,placeholder:"EX:https://..."},{t:"skillTags",title:"Applicant skills",name:"applicantsSkills",placeholder:"Add applicant skills",charLimit:20,required:!0,options:this.comerSkillTagList},{t:"custom",name:"applicantsDeposit",title:"Applicants deposit",formItemProps:{feedback:`The maximal deposit amount is 9999 ${t.applicantsDepositSymbol}`,themeOverrides:{feedbackTextColor:"var(--u-grey-4-color)",feedbackFontSizeMedium:"12px"}},slots:{label:()=>[H(a("div",null,[c("Applicants deposit"),a("span",{class:"font-normal text-xs ml-4 text-color3"},[c("Applicant must deposit "),t.applicantsDepositSymbol,c(" for applying the bounty")])]))]},render(l){return a(U,{value:t.applicantsDeposit,"onUpdate:value":n=>t.applicantsDeposit=n,type:"withSelect",class:"w-full",inputProps:{precision:8,min:0,max:ae,class:"flex-1"},renderSelect:()=>a(A,{class:"text-center w-30",options:[{value:t.token0_symbol,label:t.token0_symbol},{value:t.token1_symbol,label:t.token1_symbol}],value:t.applicantsDepositSymbol,"onUpdate:value":n=>t.applicantsDepositSymbol=n},null)},null)}},{t:"custom",title:"Description",name:"description",rules:[{required:!0,message:"Description cannot be blank",trigger:"blur"},{validator:(l,n)=>!n||n&&n.replace(/<.>|<\/.>/g,"").length>30,message:"Description must be 30 characters or more",trigger:"blur"}],render(){return a(G,{placeholder:"Much more details to description this bounty",class:"w-full",value:t.description,"onUpdate:value":l=>t.description=l},null)}}]),d=E(p.value);return a(M,{ref:l=>this.bountyDetailForm=l,rules:d,model:t},{default:()=>[a(I,{fields:p.value,values:t},null)]})}}),be={1:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",5:"0xEFcEcEcD651470ad5369Ec91D54A8907Bd69326f",56:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",97:"0x1A1c3a5233A0650db9d5a4Be552C6b8fB0936F70",2814:"0xEDD8b1e92c6584AFc0A4509f1122244195e0157B",4002:"0x9d3e631f3a800890d8573b7845C20E08eCa2c141",43113:"0x8f81b9B08232F8E8981dAa87854575d7325A9439",43114:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",80001:"0x0FA8781a83E46826621b3BC094Ea2A0212e71B23",137:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",250:"0x04068DA6C83AFCFA0e13ba15A6696662335D5B75",57:"0x2bF9b864cdc97b08B6D79ad4663e71B8aB65c45c",570:"0x368433CaC2A0B8D76E64681a9835502a1f2A8A30",57e3:"0x2Be160796F509CC4B1d76fc97494D56CF109C3f1"},C={57:"0xEa1c3Ef1A5cB22a924aD2f131DDCc5296f434BB9",570:"0x5457c5cc76218197958BAFf6B3804b46f88FD5f6"},ne='[{"inputs":[],"name":"children","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_depositToken","type":"address"},{"internalType":"uint256","name":"_founderDepositAmount","type":"uint256"},{"internalType":"uint256","name":"_applicantDepositAmount","type":"uint256"},{"internalType":"uint256","name":"_applyDeadline","type":"uint256"}],"name":"createBounty","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getStore","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"childAddr","type":"address"}],"name":"isChild","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newFactory","type":"address"}],"name":"transferPrimary","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newStore","type":"address"}],"name":"transferStore","outputs":[],"stateMutability":"nonpayable","type":"function"}]';function fe(r={addresses:C}){const i=q(),t=w(()=>({abi:ne,addresses:C,wallet:i.wallet,chainId:i.chainId}));return{getContract:()=>J({...t.value,...r}),children:u({...t.value,...r},"children"),createBounty:u({...t.value,...r},"createBounty"),getStore:u({...t.value,...r},"getStore"),isChild:u({...t.value,...r},"isChild"),owner:u({...t.value,...r},"owner"),renounceOwnership:u({...t.value,...r},"renounceOwnership"),transferOwnership:u({...t.value,...r},"transferOwnership"),transferPrimary:u({...t.value,...r},"transferPrimary"),transferStore:u({...t.value,...r},"transferStore")}}export{be as A,ye as B,ae as M,de as a,C as b,te as r,fe as u};
