import{bD as te,bf as oe,bg as ae,l as k,r as u,H as i,w as ne,bm as t,F,cs as C,t as Q,j as r,k as se}from"./bundle.f4813fa2.js";import{a as _,b as X,H as P,v as V,_ as I,m as le,u as re,h as ce}from"./index.ac02f68f.js";import{r as ie}from"./ArrowDown.fce4ad7c.js";import{e as j}from"./vue.5bd64dc7.js";import{C as U}from"./utils.293bb65e.js";import{S as O}from"./index.50b02406.js";import{u as z}from"./erc20.e9c36ea3.js";import{g as J}from"./etherscan.83df9912.js";import{f as w}from"./numberFormat.980bf1e6.js";import{S as G}from"./utils.f10e23c9.js";import{C as ue,a as fe}from"./Create.fef5fe14.js";import{C as de}from"./Create.f5d1abad.js";const Ae={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},me=ae("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.6869 4.31295C13.8821 4.50821 13.8821 4.8248 13.6869 5.02006L7.02022 11.6867C6.82495 11.882 6.50837 11.882 6.31311 11.6867L2.97977 8.35339C2.78451 8.15813 2.78451 7.84155 2.97977 7.64628C3.17504 7.45102 3.49162 7.45102 3.68688 7.64628L6.66666 10.6261L12.9798 4.31295C13.175 4.11769 13.4916 4.11769 13.6869 4.31295Z",fill:"currentColor"},null,-1),ve=[me];function je(e,c){return te(),oe("svg",Ae,ve)}function Re(e){return{follow:()=>_["Comer@connect-comer"]({comer_id:e}),unfollow:()=>_["Comer@unconnect-comer"]({comer_id:e}),followByMe:()=>_["Comer@connected-comer"]({comer_id:e})}}const Te=k({name:"BaseMemberItem",props:{item:{type:Object,required:!0},keyMap:{type:Object,default:()=>({name:"name",follow:"follow"})}},setup(e){const c=u(!e.item[e.keyMap.follow||"follow"]),n=i(()=>typeof e.item[e.keyMap.follow||"follow"]>"u");return ne(()=>e.item[e.keyMap.follow||"follow"],a=>{c.value=a},{immediate:!0}),{connect:c,disabled:n}},emits:["connect","unconnect"],render(){const e=()=>{this.$emit("connect",{...this.item,cb:()=>{this.connect=!0}})},c=()=>this.disabled?null:this.$emit("unconnect",{...this.item,cb:()=>{this.connect=!1}});return t("div",{class:"rounded-sm cursor-default flex py-4 px-4 items-center hover:bg-color-hover"},[typeof this.$slots.avatar=="function"&&this.$slots.avatar(),t("div",{class:"flex flex-1 px-4 items-center overflow-hidden"},[typeof this.$slots.content=="function"?this.$slots.content():t("div",{title:this.item[this.keyMap.name||"name"],class:"flex-1 text-color1 truncate u-h5"},[this.item[this.keyMap.name||"name"]])]),t("span",{class:"cursor-pointer text-color2 u-h7 hover:text-primary",onClick:()=>this.connect?c():e()},[this.connect?"Remove":"Connect"])])}}),Me=k({props:{end:{type:Boolean,required:!0}},emits:["more"],render(){const e=()=>{this.$emit("more")};return t(F,null,[this.end?null:t("div",{class:"cursor-pointer flex px-4 text-color2 group justify-center items-center u-h5 hover:text-primary",onClick:e},[t("span",{class:"mr-2"},[typeof this.$slots.text=="function"?this.$slots.text():"More"]),t(ie,{class:"text-color2 w-4 h-4 group-hover:text-primary "},null)])])}}),Le=k({name:"CrowdfundingMiniCard",props:{info:{type:Object,required:!0}},setup(e){const c=u(),n=u(),a=u({raiseAmount:0,raiseGoal:0,raisePercent:0,swapAmount:0}),d=j(),b=async A=>{d.push("/launchpad/"+A)},f=X(),v=f.chainId;a.value.raiseGoal=Number(w(Number(e.info.raise_goal),8)),a.value.raiseAmount=Number(w(Number(e.info.raise_balance),8)),a.value.raisePercent=Number(w(a.value.raiseAmount/a.value.raiseGoal*100,4)),a.value.swapAmount=Number(e.info.swap_percent);const x=i(()=>e.info.buy_token_contract==="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"),m=async()=>{var A;if(e.info.chainId==v){if(f.connected){const y=z(),p=await y(e.info.sell_token_contract);if(c.value=await p.symbol(),x.value)n.value=(A=J(e.info.chainId))==null?void 0:A.currencySymbol;else{const S=await y(e.info.buy_token_contract);n.value=await S.symbol()}}}else c.value=e.info.sell_token_symbol,n.value=e.info.buy_token_symbol},B=i(()=>e.info.status===U.CANCELED?"Cancelled":C().isAfter(+e.info.end_time)||e.info.status===U.ENDED?"Ended":C.utc().isBefore(C(+e.info.start_time).utc())?"Upcoming":"Live");return Q(()=>{m()}),()=>t("div",{class:"rounded-sm cursor-pointer flex py-4 px-4 items-center hover:bg-color-hover",onClick:()=>b(e.info.id)},[t(O,{src:e.info.poster,class:"h-15 mr-4 w-15"},null),t("div",{class:"flex-1 overflow-hidden"},[t("div",{class:"flex mb-2 items-center"},[t("div",{class:"text-color1 truncate u-h4 <lg:flex-1"},[e.info.title||"--"]),t(P,{class:"ml-4 text-color2 whitespace-nowrap"},{default:()=>[B.value]})]),t("div",{class:"text-color3 u-h6"},[t("span",null,[r("Raise Goal\uFF1A")]),t("span",{class:"text-primary"},[t("span",{class:"u-num1"},[a.value.raiseGoal]),t("span",null,[r(" "),n.value])]),t("strong",{class:"mx-2 overflow-hidden <lg:h-0 <lg:block"},[r("\xB7")]),t("span",null,[r("Progress\uFF1A")]),t("span",{class:" text-primary"},[t("span",{class:"u-num1"},[a.value.raiseAmount]),t("span",null,[r(" "),n.value]),r("("),a.value.raisePercent,r(" %)")])])])])}}),Ye=k({name:"SaleLaunchpadMiniCard",props:{info:{type:Object,required:!0}},setup(e){const c=u(),n=u(),a=u({raiseAmount:0,soft_cap:0,hard_cap:0,raisePercent:0}),d=j(),b=async A=>{d.push("/sale-launchpad/"+A)},f=X(),v=f.chainId;a.value.soft_cap=Number(w(Number(e.info.soft_cap),8)),a.value.hard_cap=Number(w(Number(e.info.hard_cap),8)),a.value.raiseAmount=Number(w(Number(e.info.invest_token_balance),8)),a.value.raisePercent=Number(w(a.value.raiseAmount/a.value.soft_cap*100,4));const x=i(()=>e.info.invest_token_contract==="0x0000000000000000000000000000000000000000"),m=async()=>{var A;if(e.info.chainId==v){if(f.connected){const y=z(),p=await y(e.info.presale_token_contract);if(c.value=await p.symbol(),x.value)n.value=(A=J(e.info.chainId))==null?void 0:A.currencySymbol;else{const S=await y(e.info.invest_token_contract);n.value=await S.symbol()}}}else c.value=e.info.presale_token_symbol,n.value=e.info.invest_token_symbol},B=i(()=>e.info.status===G.CANCELED?"Cancelled":C().isAfter(+e.info.ended_at*1e3)||e.info.status===G.ENDED?"Ended":C.utc().isBefore(C(+e.info.started_at*1e3).utc())?"Upcoming":"Live");return Q(()=>{m()}),()=>t("div",{class:"rounded-sm cursor-pointer flex py-4 px-4 items-center hover:bg-color-hover",onClick:()=>b(e.info.id)},[t(O,{src:e.info.poster,class:"h-15 mr-4 w-15"},null),t("div",{class:"flex-1 overflow-hidden"},[t("div",{class:"flex mb-2 items-center"},[t("div",{class:"text-color1 truncate u-h4 <lg:flex-1"},[e.info.title||"--"]),t(P,{class:"ml-4 text-color2 whitespace-nowrap"},{default:()=>[B.value]})]),t("div",{class:"text-color3 u-h6"},[t("span",null,[r("Raise Goal\uFF1A")]),t("span",{class:"text-primary"},[t("span",{class:"u-num1"},[a.value.soft_cap]),t("span",null,[r(" "),n.value])]),r("-"),t("span",{class:"text-primary"},[t("span",{class:"u-num1"},[a.value.hard_cap]),t("span",null,[r(" "),n.value])]),t("strong",{class:"mx-2 overflow-hidden <lg:h-0 <lg:block"},[r("\xB7")]),t("span",null,[r("Progress\uFF1A")]),t("span",{class:" text-primary"},[t("span",{class:"u-num1"},[a.value.raiseAmount]),t("span",null,[r(" "),n.value]),r("("),a.value.raisePercent,r(" %)")])])])])}}),pe=k({name:"NoFollowedStartupTip",emits:["toCreate"],setup(e,c){const n=u(!1),a=()=>{n.value=!0},d=()=>{n.value=!1},b=()=>{c.emit("toCreate")};return c.expose({show:a,close:d}),()=>t(le,{show:n.value,"onUpdate:show":f=>n.value=f,maskClosable:!1,autoFocus:!1},{default:()=>[t(V,{style:{width:"540px","--n-title-text-color":"#000"},size:"huge",closable:!0,onClose:d,title:"Please connect the project at first!"},{default:()=>[t("div",{class:"flex mt-20 justify-end"},[t(I,{type:"primary",ghost:!0,class:"h-9 mr-4 w-41",onClick:d},{default:()=>[r("Cancel")]}),t(I,{type:"primary",class:"h-9 w-41",onClick:b},{default:()=>[r("Connect")]})])]})]})}}),N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADsSURBVHgB1ZThDYIwEIWfxgEcATdwAxjBDWQT6yY4gW4AbuAGdAQ30F56sY0RfK3ygy95KSVXXo67HjB3FmRcpWK5ON3Y4K3TI0OVHF4RBjtdO6crEV8iZNwxBlbXk1NDxBtEv5MxaMB9+CNLTExssHZqkVbIs56jDKSYFdKQMzVIgwJ50BkMYZ2OCN2UBGMg7Wl0ncTgJ8YMNvCzyuje6H6DBJiLxlLAd1QZvxzLoIfvdaN7o/t+IL52OiC0ukzUv2bQRM8ddFwzBvu3dQiLkO0LxqCATz2LuAZ35GHZQLnyUpiUYdfiy6iYP0/AAETLLAYCIgAAAABJRU5ErkJggg==",he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACuSURBVHgB3ZXhCYMwEIWfpQPYDdoRuoGbtCs4gTiJOJluoBucJ0ZQMZq7GBQ/eJAfL3m5S0KAO/JjNSzaUQYllcPiXiEklDiEEDiEEDiEcGBIZAnwYbbmA4GRBJSsF+tjxmps/X1PPPGGb4akgnYRoMa2swJDFbEZO1VwiVvUtybHcLiR0ZeVsmooWJacbHgTHNCiNY+z/4l9vM7klJfcQk/tYvpD9quNaszcm9EB1+WJzCTfZ4sAAAAASUVORK5CYII=",be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADVSURBVHgB7VXBDcMgDDx1koyQEdiw3YBsQDdAnSDdgG7ACJRGtDWowaYkv5x0ihSwD9vkAhzYACpSR7rIkDindwodGCItSbpGk/Y2YYz0RSJXEXQpRnxy2o5XUkXW1yrxEFZiSNDlx3qtXZZLrpCXjUaBAGbwk2AjJ6BRwcycXiJQixX1Mgj4wQk7oxR4pOeA/3GvCdyIgMIGAiUU+Dl0XVMgt4Nzo4CBAANyH3KQWYVDw+xG5H7EmZ1Hg9nRSq7ge27Rd+uW9kz4fuXvajQ6fzgHFjwB7WCevDE6zdwAAAAASUVORK5CYII=";function ge(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!se(e)}const Ue=k({name:"BootTheTask",props:{taskList:{type:Array,default:[]},projectData:{type:Object,default:{}},profile:{type:Object,default:{}},noData:{type:Boolean,default:!1},viewMode:{type:Boolean,default:!1},founder:{type:Boolean,default:!0}},emits:["editAll"],setup(e,c){const n=j(),a=re(),d=u(),b=u(),f=u(),v=u(),x=i(()=>a.profile),m=i(()=>e.profile),B=i(()=>e.viewMode),A=i(()=>{var o,l,s,h,E,g,D,M,L,Y;return!!((o=m.value)!=null&&o.name)&&!!((l=m.value)!=null&&l.location)&&!!((h=(s=m.value)==null?void 0:s.info)!=null&&h.bio)&&((g=(E=m.value)==null?void 0:E.skills)==null?void 0:g.length)>0&&((M=(D=m.value)==null?void 0:D.languages)==null?void 0:M.length)>0&&((Y=(L=m.value)==null?void 0:L.socials)==null?void 0:Y.length)>0}),y=i(()=>!(!!e.projectData.logo&&!!e.projectData.banner)),p=i(()=>e.noData),S=i(()=>e.founder),Z=u([{value:1,title:"Add project settings",subTitle:["Settings include security, social, finance, governance.","Upload logo and banner."],buttonName:"Go to add",logo:be,fn:()=>{n.push(`/project/setting/${e.projectData.id}`)}},{value:2,title:"Create a proposal",subTitle:["Create your first proposal to govern your project."],buttonName:"Go to create",logo:N,fn:()=>{q()}},{value:3,title:"Create a bounty",subTitle:["Create the first bounty in your project to attract builder."],buttonName:"Go to create",logo:N,fn:()=>{$()}},{value:4,title:"Add to profile",subTitle:["Perfect your Web3 profile to promote it to the world."],buttonName:"Go to add",logo:he,fn:()=>{c.emit("editAll")}},{value:5,title:"Create a project",subTitle:["Drive your idea through creating a project."],buttonName:"Go to create",logo:N,fn:()=>{K()}}]),R=i(()=>{const o=[];return e.taskList.map(s=>{switch(s){case 1:p.value&&y.value&&o.push(s);break;case 2:p.value&&o.push(s);break;case 3:p.value&&o.push(s);break;case 4:!A.value&&p.value&&o.push(s);break;case 5:p.value&&o.push(s);break}}),o}),H=i(()=>R.value.map(o=>Z.value.find(l=>l.value===o))),W=async()=>{var s,h,E;const o=e.projectData,l=(s=x.value)==null?void 0:s.id;o.is_connected||o.team.some(g=>(g==null?void 0:g.comer_id)===l)?((h=v.value)==null||h.show(),setTimeout(()=>{var D;const g=(D=v.value)==null?void 0:D.createCreateProposalInfo.proposalInfo;g.startup_id=e.projectData.id},1e3)):(E=d.value)==null||E.show()},K=()=>{var o;(o=b.value)==null||o.show()},$=()=>{var o;(o=f.value)==null||o.show(),console.log(f.value),setTimeout(()=>{var s;const l=(s=f.value)==null?void 0:s.createBountyFormRef.bountyInfo;l.startup_id=e.projectData.id},1e3)},T=()=>{var o;(o=v.value)==null||o.show(),setTimeout(()=>{var s;const l=(s=v.value)==null?void 0:s.createCreateProposalInfo.proposalInfo;l.startup_id=e.projectData.id},1e3)},q=()=>{S.value?T():W()},ee=async()=>{var o;try{(await _["Startup@connect-startup"]({startup_id:e.projectData.id})).error||((o=d.value)==null||o.close(),T())}catch{ce.error("connect fail")}};return()=>{let o;return R.value.length>0&&!B.value&&t(F,null,[t(ue,{ref:b},null),t(fe,{ref:f},null),t(de,{ref:v},null),t(pe,{ref:d,onToCreate:ee},null),t(V,{title:"",class:"mb-6"},ge(o=H.value.map((l,s)=>t("div",{class:`bg-[#FAFAFA] p-4 ${s===0?"":"mt-5"}`},[t("p",{class:"border-color-border flex border-b-1 pb-4 items-center "},[t("img",{src:l.logo,alt:""},null),t("span",{class:"ml-5 u-h4"},[l.title])]),t("div",{class:"flex mt-4 items-center justify-between"},[t("div",{class:"text-color2 u-h6"},[l.subTitle.map(h=>t("div",null,[t("strong",{class:"mr-2"},[r("\xB7")]),h]))]),t(I,{type:"primary",size:"large",ghost:!0,class:"bg-[#ffffff] h-8 min-w-25.75 u-num1",onClick:h=>{l.fn(),h.cancelBubble=!0}},{default:()=>[l.buttonName]})])])))?o:{default:()=>[o]})])}}});export{Te as B,Le as C,Me as L,Ye as S,Ue as a,je as r,Re as u};
