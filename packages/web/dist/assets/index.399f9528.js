import{l as a,r,H as h,bm as o,W as c,F as d,w as p}from"./bundle.f4813fa2.js";import{e as u}from"./ui.e26017cf.js";function I(e,l=300){let n;return function(...t){clearTimeout(n),n=(typeof window>"u"?global:window).setTimeout(()=>e.apply(this,t),l)}}const x=a({name:"SearchInput",extends:u,inheritAttrs:!0,setup(e,l){const n=r(),t=r(""),s=r(!1);return{showLong:h(()=>t.value.trim().length>0||s.value),input:t,showInput:s,inputRef:n,props:e,handleChange:i=>{t.value=i,console.warn(t)},handleBlur:()=>{setTimeout(()=>{e.loading?p(()=>e.loading,()=>{e.loading||(s.value=!1)}):s.value=!1},100)}}},render(){return o(d,null,[o("div",{class:`rounded-sm cursor-pointer hover:bg-color-hover u-search-input relative overflow-hidden h-10 ${this.$attrs.class} ${this.showLong?"!w-40":""} ${this.input.trim().length>0?"text-color1":"text-color2"}`,onClick:()=>this.props.loading?null:(this.showInput=!0,setTimeout(()=>{this.inputRef&&this.inputRef.focus()},300))},[o("div",{class:"w-full h-full rounded px-3 flex items-center"},[o("span",{class:"truncate"},[this.input||"Search"])]),o(u,c({ref:"inputRef"},this.props,{class:`absolute top-0 left-0 border-0 ${this.showInput?"":"!-top-99"}`,placeholder:this.props.placeholder||"Search",onInput:this.handleChange,onFocus:()=>this.showInput=!0,onBlur:this.handleBlur}),null)])])}});export{x as S,I as d};
